import {
    aL as W,
    aM as K,
    aN as $,
    aO as c,
    aP as l,
    aQ as D,
    aR as nr,
    aS as j,
    aT as rr,
    aU as Ve,
    aV as $e,
    aW as ee,
    aX as je,
    aY as ge,
    aZ as J,
    a_ as bs,
    a$ as or,
    b0 as sr,
    b1 as ir,
    b2 as fe,
    b3 as ws,
    b4 as Cs,
    b5 as ar,
    b6 as cr,
    b7 as pe,
    b8 as at,
    b9 as de,
    ba as Mt,
    bb as Es,
    bc as Ns,
    bd as Ps,
    be as js,
    bf as Ss,
    bg as Rs,
} from "./index-LvWRIhnC.js";
import {
    B as Xt,
    D as As,
    i as me,
    I as Ts,
    h as Os,
    a as ks,
    b as Ds,
    N as qt,
    n as Gt,
    f as Ls,
    u as Ms,
    c as Fs,
    p as Cn,
    F as En,
} from "./isUnknown-BvXlyTdW.js";
import { S as lr, O as Ft, f as Is } from "./findFields-C7eiFatx.js";
import { D as Kt, a as ur } from "./index-D4CCfpM1.js";
import { c as _s, a as _e, b as dr, d as $s, e as Bs } from "./binaryString-DLpsQS3c.js";
import { S as Hs } from "./Sprite-BZ4Kwmf3.js";
(function () {
    try {
        var e = typeof window < "u" ? window : typeof global < "u" ? global : typeof self < "u" ? self : {},
            t = new Error().stack;
        t &&
            ((e._sentryDebugIds = e._sentryDebugIds || {}),
            (e._sentryDebugIds[t] = "cdbc80f3-1524-4e5b-926a-2b982bfbf107"),
            (e._sentryDebugIdIdentifier = "sentry-dbid-cdbc80f3-1524-4e5b-926a-2b982bfbf107"));
    } catch {
        /* Ignore errors */
    }
})();
/**
 * @license lucide-react v0.396.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */ const Vs = W("ArrowRightFromLine", [
    ["path", { d: "M3 5v14", key: "1nt18q" }],
    ["path", { d: "M21 12H7", key: "13ipq5" }],
    ["path", { d: "m15 18 6-6-6-6", key: "6tx3qv" }],
]);
/**
 * @license lucide-react v0.396.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */ const Ws = W("ChevronDown", [["path", { d: "m6 9 6 6 6-6", key: "qrunsl" }]]);
/**
 * @license lucide-react v0.396.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */ const Us = W("ChevronLeft", [["path", { d: "m15 18-6-6 6-6", key: "1wnfg3" }]]);
/**
 * @license lucide-react v0.396.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */ const zs = W("ChevronRight", [["path", { d: "m9 18 6-6-6-6", key: "mthhwq" }]]);
/**
 * @license lucide-react v0.396.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */ const Ys = W("ChevronsLeft", [
    ["path", { d: "m11 17-5-5 5-5", key: "13zhaf" }],
    ["path", { d: "m18 17-5-5 5-5", key: "h8a8et" }],
]);
/**
 * @license lucide-react v0.396.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */ const Xs = W("ChevronsRight", [
    ["path", { d: "m6 17 5-5-5-5", key: "xnjwq" }],
    ["path", { d: "m13 17 5-5-5-5", key: "17xmmf" }],
]);
/**
 * @license lucide-react v0.396.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */ const qs = W("CircleHelp", [
    ["circle", { cx: "12", cy: "12", r: "10", key: "1mglay" }],
    ["path", { d: "M9.09 9a3 3 0 0 1 5.83 1c0 2-3 3-3 3", key: "1u773s" }],
    ["path", { d: "M12 17h.01", key: "p32p05" }],
]);
/**
 * @license lucide-react v0.396.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */ const Gs = W("Eye", [
    ["path", { d: "M2 12s3-7 10-7 10 7 10 7-3 7-10 7-10-7-10-7Z", key: "rwhkz3" }],
    ["circle", { cx: "12", cy: "12", r: "3", key: "1v7zrd" }],
]);
/**
 * @license lucide-react v0.396.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */ const Ks = W("FilterX", [
    ["path", { d: "M13.013 3H2l8 9.46V19l4 2v-8.54l.9-1.055", key: "1fi1da" }],
    ["path", { d: "m22 3-5 5", key: "12jva0" }],
    ["path", { d: "m17 3 5 5", key: "k36vhe" }],
]);
/**
 * @license lucide-react v0.396.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */ const Zs = W("Filter", [["polygon", { points: "22 3 2 3 10 12.46 10 19 14 21 14 12.46 22 3", key: "1yg77f" }]]);
/**
 * @license lucide-react v0.396.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */ const Qs = W("Info", [
    ["circle", { cx: "12", cy: "12", r: "10", key: "1mglay" }],
    ["path", { d: "M12 16v-4", key: "1dtifu" }],
    ["path", { d: "M12 8h.01", key: "e9boi3" }],
]);
/**
 * @license lucide-react v0.396.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */ const Js = W("Search", [
    ["circle", { cx: "11", cy: "11", r: "8", key: "4ej97u" }],
    ["path", { d: "m21 21-4.3-4.3", key: "1qie3q" }],
]);
var Y = function () {
    return (
        (Y =
            Object.assign ||
            function (t) {
                for (var n, r = 1, o = arguments.length; r < o; r++) {
                    n = arguments[r];
                    for (var s in n) Object.prototype.hasOwnProperty.call(n, s) && (t[s] = n[s]);
                }
                return t;
            }),
        Y.apply(this, arguments)
    );
};
function fr(e, t) {
    var n = {};
    for (var r in e) Object.prototype.hasOwnProperty.call(e, r) && t.indexOf(r) < 0 && (n[r] = e[r]);
    if (e != null && typeof Object.getOwnPropertySymbols == "function")
        for (var o = 0, r = Object.getOwnPropertySymbols(e); o < r.length; o++)
            t.indexOf(r[o]) < 0 && Object.prototype.propertyIsEnumerable.call(e, r[o]) && (n[r[o]] = e[r[o]]);
    return n;
}
function ei(e, t, n) {
    if (n || arguments.length === 2)
        for (var r = 0, o = t.length, s; r < o; r++)
            (s || !(r in t)) && (s || (s = Array.prototype.slice.call(t, 0, r)), (s[r] = t[r]));
    return e.concat(s || Array.prototype.slice.call(t));
}
const ti = (e) => dr(e, Xt.UINT16);
function pr(e) {
    const t = _s(e);
    return _e([e, ti(t)]);
}
const ni = (e) => dr(e, Xt.UINT32);
function ri(e, t, n) {
    return _e([e.slice(0, t), n, e.slice(t + n.byteLength)]);
}
function oi(e, t) {
    const n = ri(e, As, ni(t));
    return new Uint8Array(n)[0] === 12 ? n : pr(n.slice(0, 12));
}
function si() {
    const { devMode: e, fit: t } = K();
    if (me(t == null ? void 0 : t.fileHeaders) || !e) return null;
    const n = t.fileHeaders.length === 1,
        r = $("border border-gray-300 rounded-md w-full px-4 py-1 bg-blue-50", n && "flex items-baseline"),
        o = n ? "File Header" : "File Headers";
    return c.jsxs("div", {
        className: r,
        children: [
            c.jsx("h3", { className: "font-medium me-5", children: o }),
            c.jsx("div", {
                children: t.fileHeaders.map(({ index: s, dataSize: i, protocolVersion: a, profileVersion: u }) =>
                    c.jsxs(
                        "dl",
                        {
                            className: "text-sm dl-inline",
                            children: [
                                !n &&
                                    c.jsxs(c.Fragment, {
                                        children: [
                                            c.jsx("dt", { children: "File Index" }),
                                            c.jsx("dd", { children: s }),
                                        ],
                                    }),
                                c.jsx("dt", { children: "Data Size" }),
                                c.jsx("dd", {
                                    className: "w-12 !inline-block",
                                    children: i.toLocaleString(),
                                }),
                                c.jsx("dt", { children: "Protocol Version" }),
                                c.jsx("dd", { children: a }),
                                c.jsx("dt", { children: "Profile Version" }),
                                c.jsx("dd", { children: u }),
                            ],
                        },
                        s
                    )
                ),
            }),
        ],
    });
}
const ii = nr(
        "relative w-full rounded-lg border border-slate-200 p-4 [&>svg~*]:pl-7 [&>svg+div]:translate-y-[-3px] [&>svg]:absolute [&>svg]:left-4 [&>svg]:top-4 [&>svg]:text-slate-950 dark:border-slate-800 dark:[&>svg]:text-slate-50",
        {
            variants: {
                variant: {
                    default: "bg-white text-slate-950 dark:bg-slate-950 dark:text-slate-50",
                    destructive:
                        "border-red-500/50 bg-red-100 text-slate-900 dark:border-red-500 [&>svg]:text-red-500 dark:border-red-900/50 dark:text-red-900 dark:dark:border-red-900 dark:[&>svg]:text-red-900",
                },
            },
            defaultVariants: { variant: "default" },
        }
    ),
    se = l.forwardRef(({ className: e, variant: t, ...n }, r) =>
        c.jsx("div", {
            ref: r,
            role: "alert",
            className: D(ii({ variant: t }), e),
            ...n,
        })
    );
se.displayName = "Alert";
const Ie = l.forwardRef(({ className: e, ...t }, n) =>
    c.jsx("h3", {
        ref: n,
        className: D("mb-1 text-slate-700 font-medium leading-none tracking-tight", e),
        ...t,
    })
);
Ie.displayName = "AlertTitle";
const Qe = l.forwardRef(({ className: e, ...t }, n) =>
    c.jsx("div", {
        ref: n,
        className: D("text-sm [&_p]:leading-relaxed", e),
        ...t,
    })
);
Qe.displayName = "AlertDescription";
const Nn = 10,
    ai = [10, 20, 50],
    mr = l.createContext();
function Zt(e) {
    const { items: t, children: n, paginationId: r, openIndex: o = 0, className: s } = e,
        [i, a] = l.useState(o),
        [u, d] = rr("pagesize", Nn);
    l.useEffect(() => {
        a(o);
    }, [o]);
    const f = l.useCallback(
            (b) => {
                const w = Number(b.target.value);
                (d(w), a(i - (i % w)));
            },
            [i, d]
        ),
        m = l.useMemo(() => ({ offset: i, setOffset: a, limit: u, items: t }), [t, i, u]);
    if (t.length <= Nn) return n(t);
    const p = t.length,
        g = {
            type: "button",
            variant: "text",
            size: "sm",
            className: "h-6 py-1 mx-2",
        },
        v = i === 0,
        h = i + u >= p,
        x = Math.ceil(p / u),
        y = Math.floor(i / u) + 1;
    return c.jsxs(mr.Provider, {
        value: m,
        children: [
            c.jsx("div", {
                className: $("text-xs border-b-2", s),
                children: `Rows ${i + 1}–${Math.min(i + u, p)} of ${p}`,
            }),
            n(t.slice(i, i + u)),
            c.jsxs("div", {
                className: $("border-t-2 flex", s),
                children: [
                    c.jsxs("div", {
                        className: "flex justify-around items-center grow",
                        children: [
                            c.jsxs("div", {
                                className: "gap-8",
                                children: [
                                    c.jsx("button", {
                                        "aria-label": "first",
                                        type: "button",
                                        disabled: v,
                                        onClick: () => a(0),
                                        ...g,
                                        children: c.jsx(Ys, { className: "h-4 w-4 me-4 sm:me-8" }),
                                    }),
                                    c.jsx("button", {
                                        "aria-label": "previous",
                                        type: "button",
                                        disabled: v,
                                        onClick: () => a(i - u),
                                        ...g,
                                        children: c.jsx(Us, { className: "h-4 w-4" }),
                                    }),
                                ],
                            }),
                            c.jsxs("div", {
                                className: "text-xs",
                                children: [
                                    c.jsx("span", {
                                        className: "me-1 hidden sm:inline",
                                        children: "Page",
                                    }),
                                    `${y} of ${x}`,
                                ],
                            }),
                            c.jsxs("div", {
                                children: [
                                    c.jsx("button", {
                                        "aria-label": "next",
                                        type: "button",
                                        disabled: h,
                                        onClick: () => a(i + u),
                                        ...g,
                                        children: c.jsx(zs, { className: "h-4 w-4" }),
                                    }),
                                    c.jsx("button", {
                                        "aria-label": "last",
                                        type: "button",
                                        disabled: h,
                                        onClick: () => a((x - 1) * u),
                                        ...g,
                                        children: c.jsx(Xs, { className: "ms-4 sm:ms-8 h-4 w-4" }),
                                    }),
                                ],
                            }),
                        ],
                    }),
                    c.jsxs("div", {
                        className: "flex items-center",
                        children: [
                            c.jsx(Ve, {
                                htmlFor: `pagesize_${r}`,
                                className: "me-2 hidden sm:inline",
                                children: "#rows/page:",
                            }),
                            c.jsx(lr, {
                                id: `pagesize_${r}`,
                                value: u,
                                onChange: f,
                                children: ai.map((b) => c.jsx(Ft, { children: b }, b)),
                            }),
                        ],
                    }),
                ],
            }),
        ],
    });
}
Zt.propTypes = {
    items: j.arrayOf(j.any).isRequired,
    children: j.func.isRequired,
    paginationId: j.oneOfType([j.number, j.string]).isRequired,
    openIndex: j.number,
    className: j.string,
};
function Pn(e) {
    e.length && $e && !Ts && (console.log("Adding new records"), e.forEach((t) => console.log($s(t))));
}
function ci(e, t) {
    const n = [],
        {
            streamIndex: { files: r, invalidRecords: o, newRecords: s, fileIdRecords: i },
        } = t;
    let a, u;
    return (
        Object.values(r).forEach((d, f) => {
            const m = e.slice(d.start, d.end),
                p = [];
            (f === 0 && (Pn(i), p.push(...i)),
                (a = d.end),
                (u = d.end),
                Object.entries(d.records).forEach(([y, b]) => {
                    o.has(Number(y)) || (b.start > u && (p.push(e.slice(a, u)), (a = b.start)), (u = b.end));
                }),
                p.push(e.slice(a, u)),
                f === 0 && (Pn(s), p.push(...s)));
            const g = _e(p),
                v = g.byteLength,
                h = oi(m, v),
                x = pr(_e([h, g]));
            n.push(x);
        }),
        _e(n)
    );
}
function li(e) {
    const { fit: t, content: n, filename: r } = K(),
        o = async () => {
            const i = ci(n, t);
            return new Blob([i], { type: "application/octet-stream" });
        },
        s = r.replace(/\.fit$/i, "_fixed.fit");
    return c.jsx(Kt, {
        filename: s,
        getData: o,
        size: "sm",
        category: "fit",
        ...e,
        children: "Download fixed FIT file",
    });
}
function hr(e, t = globalThis == null ? void 0 : globalThis.document) {
    const n = ee(e);
    l.useEffect(() => {
        const r = (o) => {
            o.key === "Escape" && n(o);
        };
        return (
            t.addEventListener("keydown", r, { capture: !0 }),
            () => t.removeEventListener("keydown", r, { capture: !0 })
        );
    }, [n, t]);
}
var ui = "DismissableLayer",
    It = "dismissableLayer.update",
    di = "dismissableLayer.pointerDownOutside",
    fi = "dismissableLayer.focusOutside",
    jn,
    gr = l.createContext({
        layers: new Set(),
        layersWithOutsidePointerEventsDisabled: new Set(),
        branches: new Set(),
    }),
    vr = l.forwardRef((e, t) => {
        const {
                disableOutsidePointerEvents: n = !1,
                onEscapeKeyDown: r,
                onPointerDownOutside: o,
                onFocusOutside: s,
                onInteractOutside: i,
                onDismiss: a,
                ...u
            } = e,
            d = l.useContext(gr),
            [f, m] = l.useState(null),
            p = (f == null ? void 0 : f.ownerDocument) ?? (globalThis == null ? void 0 : globalThis.document),
            [, g] = l.useState({}),
            v = je(t, (N) => m(N)),
            h = Array.from(d.layers),
            [x] = [...d.layersWithOutsidePointerEventsDisabled].slice(-1),
            y = h.indexOf(x),
            b = f ? h.indexOf(f) : -1,
            w = d.layersWithOutsidePointerEventsDisabled.size > 0,
            C = b >= y,
            E = hi((N) => {
                const S = N.target,
                    O = [...d.branches].some((A) => A.contains(S));
                !C || O || (o == null || o(N), i == null || i(N), N.defaultPrevented || a == null || a());
            }, p),
            P = gi((N) => {
                const S = N.target;
                [...d.branches].some((A) => A.contains(S)) ||
                    (s == null || s(N), i == null || i(N), N.defaultPrevented || a == null || a());
            }, p);
        return (
            hr((N) => {
                b === d.layers.size - 1 && (r == null || r(N), !N.defaultPrevented && a && (N.preventDefault(), a()));
            }, p),
            l.useEffect(() => {
                if (f)
                    return (
                        n &&
                            (d.layersWithOutsidePointerEventsDisabled.size === 0 &&
                                ((jn = p.body.style.pointerEvents), (p.body.style.pointerEvents = "none")),
                            d.layersWithOutsidePointerEventsDisabled.add(f)),
                        d.layers.add(f),
                        Sn(),
                        () => {
                            n &&
                                d.layersWithOutsidePointerEventsDisabled.size === 1 &&
                                (p.body.style.pointerEvents = jn);
                        }
                    );
            }, [f, p, n, d]),
            l.useEffect(
                () => () => {
                    f && (d.layers.delete(f), d.layersWithOutsidePointerEventsDisabled.delete(f), Sn());
                },
                [f, d]
            ),
            l.useEffect(() => {
                const N = () => g({});
                return (document.addEventListener(It, N), () => document.removeEventListener(It, N));
            }, []),
            c.jsx(ge.div, {
                ...u,
                ref: v,
                style: {
                    pointerEvents: w ? (C ? "auto" : "none") : void 0,
                    ...e.style,
                },
                onFocusCapture: J(e.onFocusCapture, P.onFocusCapture),
                onBlurCapture: J(e.onBlurCapture, P.onBlurCapture),
                onPointerDownCapture: J(e.onPointerDownCapture, E.onPointerDownCapture),
            })
        );
    });
vr.displayName = ui;
var pi = "DismissableLayerBranch",
    mi = l.forwardRef((e, t) => {
        const n = l.useContext(gr),
            r = l.useRef(null),
            o = je(t, r);
        return (
            l.useEffect(() => {
                const s = r.current;
                if (s)
                    return (
                        n.branches.add(s),
                        () => {
                            n.branches.delete(s);
                        }
                    );
            }, [n.branches]),
            c.jsx(ge.div, { ...e, ref: o })
        );
    });
mi.displayName = pi;
function hi(e, t = globalThis == null ? void 0 : globalThis.document) {
    const n = ee(e),
        r = l.useRef(!1),
        o = l.useRef(() => {});
    return (
        l.useEffect(() => {
            const s = (a) => {
                    if (a.target && !r.current) {
                        let u = function () {
                            xr(di, n, d, { discrete: !0 });
                        };
                        const d = { originalEvent: a };
                        a.pointerType === "touch"
                            ? (t.removeEventListener("click", o.current),
                              (o.current = u),
                              t.addEventListener("click", o.current, { once: !0 }))
                            : u();
                    } else t.removeEventListener("click", o.current);
                    r.current = !1;
                },
                i = window.setTimeout(() => {
                    t.addEventListener("pointerdown", s);
                }, 0);
            return () => {
                (window.clearTimeout(i),
                    t.removeEventListener("pointerdown", s),
                    t.removeEventListener("click", o.current));
            };
        }, [t, n]),
        { onPointerDownCapture: () => (r.current = !0) }
    );
}
function gi(e, t = globalThis == null ? void 0 : globalThis.document) {
    const n = ee(e),
        r = l.useRef(!1);
    return (
        l.useEffect(() => {
            const o = (s) => {
                s.target && !r.current && xr(fi, n, { originalEvent: s }, { discrete: !1 });
            };
            return (t.addEventListener("focusin", o), () => t.removeEventListener("focusin", o));
        }, [t, n]),
        {
            onFocusCapture: () => (r.current = !0),
            onBlurCapture: () => (r.current = !1),
        }
    );
}
function Sn() {
    const e = new CustomEvent(It);
    document.dispatchEvent(e);
}
function xr(e, t, n, { discrete: r }) {
    const o = n.originalEvent.target,
        s = new CustomEvent(e, { bubbles: !1, cancelable: !0, detail: n });
    (t && o.addEventListener(e, t, { once: !0 }), r ? bs(o, s) : o.dispatchEvent(s));
}
const vi = ["top", "right", "bottom", "left"],
    X = Math.min,
    B = Math.max,
    rt = Math.round,
    ze = Math.floor,
    ae = (e) => ({ x: e, y: e }),
    xi = { left: "right", right: "left", bottom: "top", top: "bottom" },
    yi = { start: "end", end: "start" };
function _t(e, t, n) {
    return B(e, X(t, n));
}
function te(e, t) {
    return typeof e == "function" ? e(t) : e;
}
function ne(e) {
    return e.split("-")[0];
}
function Se(e) {
    return e.split("-")[1];
}
function Qt(e) {
    return e === "x" ? "y" : "x";
}
function Jt(e) {
    return e === "y" ? "height" : "width";
}
function Re(e) {
    return ["top", "bottom"].includes(ne(e)) ? "y" : "x";
}
function en(e) {
    return Qt(Re(e));
}
function bi(e, t, n) {
    n === void 0 && (n = !1);
    const r = Se(e),
        o = en(e),
        s = Jt(o);
    let i = o === "x" ? (r === (n ? "end" : "start") ? "right" : "left") : r === "start" ? "bottom" : "top";
    return (t.reference[s] > t.floating[s] && (i = ot(i)), [i, ot(i)]);
}
function wi(e) {
    const t = ot(e);
    return [$t(e), t, $t(t)];
}
function $t(e) {
    return e.replace(/start|end/g, (t) => yi[t]);
}
function Ci(e, t, n) {
    const r = ["left", "right"],
        o = ["right", "left"],
        s = ["top", "bottom"],
        i = ["bottom", "top"];
    switch (e) {
        case "top":
        case "bottom":
            return n ? (t ? o : r) : t ? r : o;
        case "left":
        case "right":
            return t ? s : i;
        default:
            return [];
    }
}
function Ei(e, t, n, r) {
    const o = Se(e);
    let s = Ci(ne(e), n === "start", r);
    return (o && ((s = s.map((i) => i + "-" + o)), t && (s = s.concat(s.map($t)))), s);
}
function ot(e) {
    return e.replace(/left|right|bottom|top/g, (t) => xi[t]);
}
function Ni(e) {
    return { top: 0, right: 0, bottom: 0, left: 0, ...e };
}
function yr(e) {
    return typeof e != "number" ? Ni(e) : { top: e, right: e, bottom: e, left: e };
}
function st(e) {
    const { x: t, y: n, width: r, height: o } = e;
    return {
        width: r,
        height: o,
        top: n,
        left: t,
        right: t + r,
        bottom: n + o,
        x: t,
        y: n,
    };
}
function Rn(e, t, n) {
    let { reference: r, floating: o } = e;
    const s = Re(t),
        i = en(t),
        a = Jt(i),
        u = ne(t),
        d = s === "y",
        f = r.x + r.width / 2 - o.width / 2,
        m = r.y + r.height / 2 - o.height / 2,
        p = r[a] / 2 - o[a] / 2;
    let g;
    switch (u) {
        case "top":
            g = { x: f, y: r.y - o.height };
            break;
        case "bottom":
            g = { x: f, y: r.y + r.height };
            break;
        case "right":
            g = { x: r.x + r.width, y: m };
            break;
        case "left":
            g = { x: r.x - o.width, y: m };
            break;
        default:
            g = { x: r.x, y: r.y };
    }
    switch (Se(t)) {
        case "start":
            g[i] -= p * (n && d ? -1 : 1);
            break;
        case "end":
            g[i] += p * (n && d ? -1 : 1);
            break;
    }
    return g;
}
const Pi = async (e, t, n) => {
    const { placement: r = "bottom", strategy: o = "absolute", middleware: s = [], platform: i } = n,
        a = s.filter(Boolean),
        u = await (i.isRTL == null ? void 0 : i.isRTL(t));
    let d = await i.getElementRects({ reference: e, floating: t, strategy: o }),
        { x: f, y: m } = Rn(d, r, u),
        p = r,
        g = {},
        v = 0;
    for (let h = 0; h < a.length; h++) {
        const { name: x, fn: y } = a[h],
            {
                x: b,
                y: w,
                data: C,
                reset: E,
            } = await y({
                x: f,
                y: m,
                initialPlacement: r,
                placement: p,
                strategy: o,
                middlewareData: g,
                rects: d,
                platform: i,
                elements: { reference: e, floating: t },
            });
        ((f = b ?? f),
            (m = w ?? m),
            (g = { ...g, [x]: { ...g[x], ...C } }),
            E &&
                v <= 50 &&
                (v++,
                typeof E == "object" &&
                    (E.placement && (p = E.placement),
                    E.rects &&
                        (d =
                            E.rects === !0
                                ? await i.getElementRects({
                                      reference: e,
                                      floating: t,
                                      strategy: o,
                                  })
                                : E.rects),
                    ({ x: f, y: m } = Rn(d, p, u))),
                (h = -1)));
    }
    return { x: f, y: m, placement: p, strategy: o, middlewareData: g };
};
async function Be(e, t) {
    var n;
    t === void 0 && (t = {});
    const { x: r, y: o, platform: s, rects: i, elements: a, strategy: u } = e,
        {
            boundary: d = "clippingAncestors",
            rootBoundary: f = "viewport",
            elementContext: m = "floating",
            altBoundary: p = !1,
            padding: g = 0,
        } = te(t, e),
        v = yr(g),
        x = a[p ? (m === "floating" ? "reference" : "floating") : m],
        y = st(
            await s.getClippingRect({
                element:
                    (n = await (s.isElement == null ? void 0 : s.isElement(x))) == null || n
                        ? x
                        : x.contextElement ||
                          (await (s.getDocumentElement == null ? void 0 : s.getDocumentElement(a.floating))),
                boundary: d,
                rootBoundary: f,
                strategy: u,
            })
        ),
        b = m === "floating" ? { x: r, y: o, width: i.floating.width, height: i.floating.height } : i.reference,
        w = await (s.getOffsetParent == null ? void 0 : s.getOffsetParent(a.floating)),
        C = (await (s.isElement == null ? void 0 : s.isElement(w)))
            ? (await (s.getScale == null ? void 0 : s.getScale(w))) || { x: 1, y: 1 }
            : { x: 1, y: 1 },
        E = st(
            s.convertOffsetParentRelativeRectToViewportRelativeRect
                ? await s.convertOffsetParentRelativeRectToViewportRelativeRect({
                      elements: a,
                      rect: b,
                      offsetParent: w,
                      strategy: u,
                  })
                : b
        );
    return {
        top: (y.top - E.top + v.top) / C.y,
        bottom: (E.bottom - y.bottom + v.bottom) / C.y,
        left: (y.left - E.left + v.left) / C.x,
        right: (E.right - y.right + v.right) / C.x,
    };
}
const ji = (e) => ({
        name: "arrow",
        options: e,
        async fn(t) {
            const { x: n, y: r, placement: o, rects: s, platform: i, elements: a, middlewareData: u } = t,
                { element: d, padding: f = 0 } = te(e, t) || {};
            if (d == null) return {};
            const m = yr(f),
                p = { x: n, y: r },
                g = en(o),
                v = Jt(g),
                h = await i.getDimensions(d),
                x = g === "y",
                y = x ? "top" : "left",
                b = x ? "bottom" : "right",
                w = x ? "clientHeight" : "clientWidth",
                C = s.reference[v] + s.reference[g] - p[g] - s.floating[v],
                E = p[g] - s.reference[g],
                P = await (i.getOffsetParent == null ? void 0 : i.getOffsetParent(d));
            let N = P ? P[w] : 0;
            (!N || !(await (i.isElement == null ? void 0 : i.isElement(P)))) && (N = a.floating[w] || s.floating[v]);
            const S = C / 2 - E / 2,
                O = N / 2 - h[v] / 2 - 1,
                A = X(m[y], O),
                I = X(m[b], O),
                k = A,
                F = N - h[v] - I,
                L = N / 2 - h[v] / 2 + S,
                T = _t(k, L, F),
                _ = !u.arrow && Se(o) != null && L !== T && s.reference[v] / 2 - (L < k ? A : I) - h[v] / 2 < 0,
                R = _ ? (L < k ? L - k : L - F) : 0;
            return {
                [g]: p[g] + R,
                data: {
                    [g]: T,
                    centerOffset: L - T - R,
                    ...(_ && { alignmentOffset: R }),
                },
                reset: _,
            };
        },
    }),
    Si = function (e) {
        return (
            e === void 0 && (e = {}),
            {
                name: "flip",
                options: e,
                async fn(t) {
                    var n, r;
                    const {
                            placement: o,
                            middlewareData: s,
                            rects: i,
                            initialPlacement: a,
                            platform: u,
                            elements: d,
                        } = t,
                        {
                            mainAxis: f = !0,
                            crossAxis: m = !0,
                            fallbackPlacements: p,
                            fallbackStrategy: g = "bestFit",
                            fallbackAxisSideDirection: v = "none",
                            flipAlignment: h = !0,
                            ...x
                        } = te(e, t);
                    if ((n = s.arrow) != null && n.alignmentOffset) return {};
                    const y = ne(o),
                        b = ne(a) === a,
                        w = await (u.isRTL == null ? void 0 : u.isRTL(d.floating)),
                        C = p || (b || !h ? [ot(a)] : wi(a));
                    !p && v !== "none" && C.push(...Ei(a, h, v, w));
                    const E = [a, ...C],
                        P = await Be(t, x),
                        N = [];
                    let S = ((r = s.flip) == null ? void 0 : r.overflows) || [];
                    if ((f && N.push(P[y]), m)) {
                        const k = bi(o, i, w);
                        N.push(P[k[0]], P[k[1]]);
                    }
                    if (((S = [...S, { placement: o, overflows: N }]), !N.every((k) => k <= 0))) {
                        var O, A;
                        const k = (((O = s.flip) == null ? void 0 : O.index) || 0) + 1,
                            F = E[k];
                        if (F)
                            return {
                                data: { index: k, overflows: S },
                                reset: { placement: F },
                            };
                        let L =
                            (A = S.filter((T) => T.overflows[0] <= 0).sort(
                                (T, _) => T.overflows[1] - _.overflows[1]
                            )[0]) == null
                                ? void 0
                                : A.placement;
                        if (!L)
                            switch (g) {
                                case "bestFit": {
                                    var I;
                                    const T =
                                        (I = S.map((_) => [
                                            _.placement,
                                            _.overflows.filter((R) => R > 0).reduce((R, M) => R + M, 0),
                                        ]).sort((_, R) => _[1] - R[1])[0]) == null
                                            ? void 0
                                            : I[0];
                                    T && (L = T);
                                    break;
                                }
                                case "initialPlacement":
                                    L = a;
                                    break;
                            }
                        if (o !== L) return { reset: { placement: L } };
                    }
                    return {};
                },
            }
        );
    };
function An(e, t) {
    return {
        top: e.top - t.height,
        right: e.right - t.width,
        bottom: e.bottom - t.height,
        left: e.left - t.width,
    };
}
function Tn(e) {
    return vi.some((t) => e[t] >= 0);
}
const Ri = function (e) {
    return (
        e === void 0 && (e = {}),
        {
            name: "hide",
            options: e,
            async fn(t) {
                const { rects: n } = t,
                    { strategy: r = "referenceHidden", ...o } = te(e, t);
                switch (r) {
                    case "referenceHidden": {
                        const s = await Be(t, { ...o, elementContext: "reference" }),
                            i = An(s, n.reference);
                        return {
                            data: { referenceHiddenOffsets: i, referenceHidden: Tn(i) },
                        };
                    }
                    case "escaped": {
                        const s = await Be(t, { ...o, altBoundary: !0 }),
                            i = An(s, n.floating);
                        return { data: { escapedOffsets: i, escaped: Tn(i) } };
                    }
                    default:
                        return {};
                }
            },
        }
    );
};
async function Ai(e, t) {
    const { placement: n, platform: r, elements: o } = e,
        s = await (r.isRTL == null ? void 0 : r.isRTL(o.floating)),
        i = ne(n),
        a = Se(n),
        u = Re(n) === "y",
        d = ["left", "top"].includes(i) ? -1 : 1,
        f = s && u ? -1 : 1,
        m = te(t, e);
    let {
        mainAxis: p,
        crossAxis: g,
        alignmentAxis: v,
    } = typeof m == "number"
        ? { mainAxis: m, crossAxis: 0, alignmentAxis: null }
        : { mainAxis: 0, crossAxis: 0, alignmentAxis: null, ...m };
    return (
        a && typeof v == "number" && (g = a === "end" ? v * -1 : v),
        u ? { x: g * f, y: p * d } : { x: p * d, y: g * f }
    );
}
const Ti = function (e) {
        return (
            e === void 0 && (e = 0),
            {
                name: "offset",
                options: e,
                async fn(t) {
                    var n, r;
                    const { x: o, y: s, placement: i, middlewareData: a } = t,
                        u = await Ai(t, e);
                    return i === ((n = a.offset) == null ? void 0 : n.placement) &&
                        (r = a.arrow) != null &&
                        r.alignmentOffset
                        ? {}
                        : { x: o + u.x, y: s + u.y, data: { ...u, placement: i } };
                },
            }
        );
    },
    Oi = function (e) {
        return (
            e === void 0 && (e = {}),
            {
                name: "shift",
                options: e,
                async fn(t) {
                    const { x: n, y: r, placement: o } = t,
                        {
                            mainAxis: s = !0,
                            crossAxis: i = !1,
                            limiter: a = {
                                fn: (x) => {
                                    let { x: y, y: b } = x;
                                    return { x: y, y: b };
                                },
                            },
                            ...u
                        } = te(e, t),
                        d = { x: n, y: r },
                        f = await Be(t, u),
                        m = Re(ne(o)),
                        p = Qt(m);
                    let g = d[p],
                        v = d[m];
                    if (s) {
                        const x = p === "y" ? "top" : "left",
                            y = p === "y" ? "bottom" : "right",
                            b = g + f[x],
                            w = g - f[y];
                        g = _t(b, g, w);
                    }
                    if (i) {
                        const x = m === "y" ? "top" : "left",
                            y = m === "y" ? "bottom" : "right",
                            b = v + f[x],
                            w = v - f[y];
                        v = _t(b, v, w);
                    }
                    const h = a.fn({ ...t, [p]: g, [m]: v });
                    return { ...h, data: { x: h.x - n, y: h.y - r } };
                },
            }
        );
    },
    ki = function (e) {
        return (
            e === void 0 && (e = {}),
            {
                options: e,
                fn(t) {
                    const { x: n, y: r, placement: o, rects: s, middlewareData: i } = t,
                        { offset: a = 0, mainAxis: u = !0, crossAxis: d = !0 } = te(e, t),
                        f = { x: n, y: r },
                        m = Re(o),
                        p = Qt(m);
                    let g = f[p],
                        v = f[m];
                    const h = te(a, t),
                        x = typeof h == "number" ? { mainAxis: h, crossAxis: 0 } : { mainAxis: 0, crossAxis: 0, ...h };
                    if (u) {
                        const w = p === "y" ? "height" : "width",
                            C = s.reference[p] - s.floating[w] + x.mainAxis,
                            E = s.reference[p] + s.reference[w] - x.mainAxis;
                        g < C ? (g = C) : g > E && (g = E);
                    }
                    if (d) {
                        var y, b;
                        const w = p === "y" ? "width" : "height",
                            C = ["top", "left"].includes(ne(o)),
                            E =
                                s.reference[m] -
                                s.floating[w] +
                                ((C && ((y = i.offset) == null ? void 0 : y[m])) || 0) +
                                (C ? 0 : x.crossAxis),
                            P =
                                s.reference[m] +
                                s.reference[w] +
                                (C ? 0 : ((b = i.offset) == null ? void 0 : b[m]) || 0) -
                                (C ? x.crossAxis : 0);
                        v < E ? (v = E) : v > P && (v = P);
                    }
                    return { [p]: g, [m]: v };
                },
            }
        );
    },
    Di = function (e) {
        return (
            e === void 0 && (e = {}),
            {
                name: "size",
                options: e,
                async fn(t) {
                    const { placement: n, rects: r, platform: o, elements: s } = t,
                        { apply: i = () => {}, ...a } = te(e, t),
                        u = await Be(t, a),
                        d = ne(n),
                        f = Se(n),
                        m = Re(n) === "y",
                        { width: p, height: g } = r.floating;
                    let v, h;
                    d === "top" || d === "bottom"
                        ? ((v = d),
                          (h =
                              f === ((await (o.isRTL == null ? void 0 : o.isRTL(s.floating))) ? "start" : "end")
                                  ? "left"
                                  : "right"))
                        : ((h = d), (v = f === "end" ? "top" : "bottom"));
                    const x = g - u.top - u.bottom,
                        y = p - u.left - u.right,
                        b = X(g - u[v], x),
                        w = X(p - u[h], y),
                        C = !t.middlewareData.shift;
                    let E = b,
                        P = w;
                    if ((m ? (P = f || C ? X(w, y) : y) : (E = f || C ? X(b, x) : x), C && !f)) {
                        const S = B(u.left, 0),
                            O = B(u.right, 0),
                            A = B(u.top, 0),
                            I = B(u.bottom, 0);
                        m
                            ? (P = p - 2 * (S !== 0 || O !== 0 ? S + O : B(u.left, u.right)))
                            : (E = g - 2 * (A !== 0 || I !== 0 ? A + I : B(u.top, u.bottom)));
                    }
                    await i({ ...t, availableWidth: P, availableHeight: E });
                    const N = await o.getDimensions(s.floating);
                    return p !== N.width || g !== N.height ? { reset: { rects: !0 } } : {};
                },
            }
        );
    };
function Ae(e) {
    return br(e) ? (e.nodeName || "").toLowerCase() : "#document";
}
function H(e) {
    var t;
    return (e == null || (t = e.ownerDocument) == null ? void 0 : t.defaultView) || window;
}
function re(e) {
    var t;
    return (t = (br(e) ? e.ownerDocument : e.document) || window.document) == null ? void 0 : t.documentElement;
}
function br(e) {
    return e instanceof Node || e instanceof H(e).Node;
}
function q(e) {
    return e instanceof Element || e instanceof H(e).Element;
}
function G(e) {
    return e instanceof HTMLElement || e instanceof H(e).HTMLElement;
}
function On(e) {
    return typeof ShadowRoot > "u" ? !1 : e instanceof ShadowRoot || e instanceof H(e).ShadowRoot;
}
function We(e) {
    const { overflow: t, overflowX: n, overflowY: r, display: o } = z(e);
    return /auto|scroll|overlay|hidden|clip/.test(t + r + n) && !["inline", "contents"].includes(o);
}
function Li(e) {
    return ["table", "td", "th"].includes(Ae(e));
}
function tn(e) {
    const t = nn(),
        n = z(e);
    return (
        n.transform !== "none" ||
        n.perspective !== "none" ||
        (n.containerType ? n.containerType !== "normal" : !1) ||
        (!t && (n.backdropFilter ? n.backdropFilter !== "none" : !1)) ||
        (!t && (n.filter ? n.filter !== "none" : !1)) ||
        ["transform", "perspective", "filter"].some((r) => (n.willChange || "").includes(r)) ||
        ["paint", "layout", "strict", "content"].some((r) => (n.contain || "").includes(r))
    );
}
function Mi(e) {
    let t = ce(e);
    for (; G(t) && !Ee(t); ) {
        if (tn(t)) return t;
        t = ce(t);
    }
    return null;
}
function nn() {
    return typeof CSS > "u" || !CSS.supports ? !1 : CSS.supports("-webkit-backdrop-filter", "none");
}
function Ee(e) {
    return ["html", "body", "#document"].includes(Ae(e));
}
function z(e) {
    return H(e).getComputedStyle(e);
}
function ct(e) {
    return q(e)
        ? { scrollLeft: e.scrollLeft, scrollTop: e.scrollTop }
        : { scrollLeft: e.pageXOffset, scrollTop: e.pageYOffset };
}
function ce(e) {
    if (Ae(e) === "html") return e;
    const t = e.assignedSlot || e.parentNode || (On(e) && e.host) || re(e);
    return On(t) ? t.host : t;
}
function wr(e) {
    const t = ce(e);
    return Ee(t) ? (e.ownerDocument ? e.ownerDocument.body : e.body) : G(t) && We(t) ? t : wr(t);
}
function He(e, t, n) {
    var r;
    (t === void 0 && (t = []), n === void 0 && (n = !0));
    const o = wr(e),
        s = o === ((r = e.ownerDocument) == null ? void 0 : r.body),
        i = H(o);
    return s
        ? t.concat(i, i.visualViewport || [], We(o) ? o : [], i.frameElement && n ? He(i.frameElement) : [])
        : t.concat(o, He(o, [], n));
}
function Cr(e) {
    const t = z(e);
    let n = parseFloat(t.width) || 0,
        r = parseFloat(t.height) || 0;
    const o = G(e),
        s = o ? e.offsetWidth : n,
        i = o ? e.offsetHeight : r,
        a = rt(n) !== s || rt(r) !== i;
    return (a && ((n = s), (r = i)), { width: n, height: r, $: a });
}
function rn(e) {
    return q(e) ? e : e.contextElement;
}
function we(e) {
    const t = rn(e);
    if (!G(t)) return ae(1);
    const n = t.getBoundingClientRect(),
        { width: r, height: o, $: s } = Cr(t);
    let i = (s ? rt(n.width) : n.width) / r,
        a = (s ? rt(n.height) : n.height) / o;
    return ((!i || !Number.isFinite(i)) && (i = 1), (!a || !Number.isFinite(a)) && (a = 1), { x: i, y: a });
}
const Fi = ae(0);
function Er(e) {
    const t = H(e);
    return !nn() || !t.visualViewport ? Fi : { x: t.visualViewport.offsetLeft, y: t.visualViewport.offsetTop };
}
function Ii(e, t, n) {
    return (t === void 0 && (t = !1), !n || (t && n !== H(e)) ? !1 : t);
}
function he(e, t, n, r) {
    (t === void 0 && (t = !1), n === void 0 && (n = !1));
    const o = e.getBoundingClientRect(),
        s = rn(e);
    let i = ae(1);
    t && (r ? q(r) && (i = we(r)) : (i = we(e)));
    const a = Ii(s, n, r) ? Er(s) : ae(0);
    let u = (o.left + a.x) / i.x,
        d = (o.top + a.y) / i.y,
        f = o.width / i.x,
        m = o.height / i.y;
    if (s) {
        const p = H(s),
            g = r && q(r) ? H(r) : r;
        let v = p,
            h = v.frameElement;
        for (; h && r && g !== v; ) {
            const x = we(h),
                y = h.getBoundingClientRect(),
                b = z(h),
                w = y.left + (h.clientLeft + parseFloat(b.paddingLeft)) * x.x,
                C = y.top + (h.clientTop + parseFloat(b.paddingTop)) * x.y;
            ((u *= x.x), (d *= x.y), (f *= x.x), (m *= x.y), (u += w), (d += C), (v = H(h)), (h = v.frameElement));
        }
    }
    return st({ width: f, height: m, x: u, y: d });
}
const _i = [":popover-open", ":modal"];
function on(e) {
    return _i.some((t) => {
        try {
            return e.matches(t);
        } catch {
            return !1;
        }
    });
}
function $i(e) {
    let { elements: t, rect: n, offsetParent: r, strategy: o } = e;
    const s = o === "fixed",
        i = re(r),
        a = t ? on(t.floating) : !1;
    if (r === i || (a && s)) return n;
    let u = { scrollLeft: 0, scrollTop: 0 },
        d = ae(1);
    const f = ae(0),
        m = G(r);
    if ((m || (!m && !s)) && ((Ae(r) !== "body" || We(i)) && (u = ct(r)), G(r))) {
        const p = he(r);
        ((d = we(r)), (f.x = p.x + r.clientLeft), (f.y = p.y + r.clientTop));
    }
    return {
        width: n.width * d.x,
        height: n.height * d.y,
        x: n.x * d.x - u.scrollLeft * d.x + f.x,
        y: n.y * d.y - u.scrollTop * d.y + f.y,
    };
}
function Bi(e) {
    return Array.from(e.getClientRects());
}
function Nr(e) {
    return he(re(e)).left + ct(e).scrollLeft;
}
function Hi(e) {
    const t = re(e),
        n = ct(e),
        r = e.ownerDocument.body,
        o = B(t.scrollWidth, t.clientWidth, r.scrollWidth, r.clientWidth),
        s = B(t.scrollHeight, t.clientHeight, r.scrollHeight, r.clientHeight);
    let i = -n.scrollLeft + Nr(e);
    const a = -n.scrollTop;
    return (
        z(r).direction === "rtl" && (i += B(t.clientWidth, r.clientWidth) - o),
        { width: o, height: s, x: i, y: a }
    );
}
function Vi(e, t) {
    const n = H(e),
        r = re(e),
        o = n.visualViewport;
    let s = r.clientWidth,
        i = r.clientHeight,
        a = 0,
        u = 0;
    if (o) {
        ((s = o.width), (i = o.height));
        const d = nn();
        (!d || (d && t === "fixed")) && ((a = o.offsetLeft), (u = o.offsetTop));
    }
    return { width: s, height: i, x: a, y: u };
}
function Wi(e, t) {
    const n = he(e, !0, t === "fixed"),
        r = n.top + e.clientTop,
        o = n.left + e.clientLeft,
        s = G(e) ? we(e) : ae(1),
        i = e.clientWidth * s.x,
        a = e.clientHeight * s.y,
        u = o * s.x,
        d = r * s.y;
    return { width: i, height: a, x: u, y: d };
}
function kn(e, t, n) {
    let r;
    if (t === "viewport") r = Vi(e, n);
    else if (t === "document") r = Hi(re(e));
    else if (q(t)) r = Wi(t, n);
    else {
        const o = Er(e);
        r = { ...t, x: t.x - o.x, y: t.y - o.y };
    }
    return st(r);
}
function Pr(e, t) {
    const n = ce(e);
    return n === t || !q(n) || Ee(n) ? !1 : z(n).position === "fixed" || Pr(n, t);
}
function Ui(e, t) {
    const n = t.get(e);
    if (n) return n;
    let r = He(e, [], !1).filter((a) => q(a) && Ae(a) !== "body"),
        o = null;
    const s = z(e).position === "fixed";
    let i = s ? ce(e) : e;
    for (; q(i) && !Ee(i); ) {
        const a = z(i),
            u = tn(i);
        (!u && a.position === "fixed" && (o = null),
            (
                s
                    ? !u && !o
                    : (!u && a.position === "static" && !!o && ["absolute", "fixed"].includes(o.position)) ||
                      (We(i) && !u && Pr(e, i))
            )
                ? (r = r.filter((f) => f !== i))
                : (o = a),
            (i = ce(i)));
    }
    return (t.set(e, r), r);
}
function zi(e) {
    let { element: t, boundary: n, rootBoundary: r, strategy: o } = e;
    const i = [...(n === "clippingAncestors" ? (on(t) ? [] : Ui(t, this._c)) : [].concat(n)), r],
        a = i[0],
        u = i.reduce(
            (d, f) => {
                const m = kn(t, f, o);
                return (
                    (d.top = B(m.top, d.top)),
                    (d.right = X(m.right, d.right)),
                    (d.bottom = X(m.bottom, d.bottom)),
                    (d.left = B(m.left, d.left)),
                    d
                );
            },
            kn(t, a, o)
        );
    return {
        width: u.right - u.left,
        height: u.bottom - u.top,
        x: u.left,
        y: u.top,
    };
}
function Yi(e) {
    const { width: t, height: n } = Cr(e);
    return { width: t, height: n };
}
function Xi(e, t, n) {
    const r = G(t),
        o = re(t),
        s = n === "fixed",
        i = he(e, !0, s, t);
    let a = { scrollLeft: 0, scrollTop: 0 };
    const u = ae(0);
    if (r || (!r && !s))
        if (((Ae(t) !== "body" || We(o)) && (a = ct(t)), r)) {
            const m = he(t, !0, s, t);
            ((u.x = m.x + t.clientLeft), (u.y = m.y + t.clientTop));
        } else o && (u.x = Nr(o));
    const d = i.left + a.scrollLeft - u.x,
        f = i.top + a.scrollTop - u.y;
    return { x: d, y: f, width: i.width, height: i.height };
}
function Nt(e) {
    return z(e).position === "static";
}
function Dn(e, t) {
    return !G(e) || z(e).position === "fixed" ? null : t ? t(e) : e.offsetParent;
}
function jr(e, t) {
    const n = H(e);
    if (on(e)) return n;
    if (!G(e)) {
        let o = ce(e);
        for (; o && !Ee(o); ) {
            if (q(o) && !Nt(o)) return o;
            o = ce(o);
        }
        return n;
    }
    let r = Dn(e, t);
    for (; r && Li(r) && Nt(r); ) r = Dn(r, t);
    return r && Ee(r) && Nt(r) && !tn(r) ? n : r || Mi(e) || n;
}
const qi = async function (e) {
    const t = this.getOffsetParent || jr,
        n = this.getDimensions,
        r = await n(e.floating);
    return {
        reference: Xi(e.reference, await t(e.floating), e.strategy),
        floating: { x: 0, y: 0, width: r.width, height: r.height },
    };
};
function Gi(e) {
    return z(e).direction === "rtl";
}
const Ki = {
    convertOffsetParentRelativeRectToViewportRelativeRect: $i,
    getDocumentElement: re,
    getClippingRect: zi,
    getOffsetParent: jr,
    getElementRects: qi,
    getClientRects: Bi,
    getDimensions: Yi,
    getScale: we,
    isElement: q,
    isRTL: Gi,
};
function Zi(e, t) {
    let n = null,
        r;
    const o = re(e);
    function s() {
        var a;
        (clearTimeout(r), (a = n) == null || a.disconnect(), (n = null));
    }
    function i(a, u) {
        (a === void 0 && (a = !1), u === void 0 && (u = 1), s());
        const { left: d, top: f, width: m, height: p } = e.getBoundingClientRect();
        if ((a || t(), !m || !p)) return;
        const g = ze(f),
            v = ze(o.clientWidth - (d + m)),
            h = ze(o.clientHeight - (f + p)),
            x = ze(d),
            b = {
                rootMargin: -g + "px " + -v + "px " + -h + "px " + -x + "px",
                threshold: B(0, X(1, u)) || 1,
            };
        let w = !0;
        function C(E) {
            const P = E[0].intersectionRatio;
            if (P !== u) {
                if (!w) return i();
                P
                    ? i(!1, P)
                    : (r = setTimeout(() => {
                          i(!1, 1e-7);
                      }, 1e3));
            }
            w = !1;
        }
        try {
            n = new IntersectionObserver(C, { ...b, root: o.ownerDocument });
        } catch {
            n = new IntersectionObserver(C, b);
        }
        n.observe(e);
    }
    return (i(!0), s);
}
function Sr(e, t, n, r) {
    r === void 0 && (r = {});
    const {
            ancestorScroll: o = !0,
            ancestorResize: s = !0,
            elementResize: i = typeof ResizeObserver == "function",
            layoutShift: a = typeof IntersectionObserver == "function",
            animationFrame: u = !1,
        } = r,
        d = rn(e),
        f = o || s ? [...(d ? He(d) : []), ...He(t)] : [];
    f.forEach((y) => {
        (o && y.addEventListener("scroll", n, { passive: !0 }), s && y.addEventListener("resize", n));
    });
    const m = d && a ? Zi(d, n) : null;
    let p = -1,
        g = null;
    i &&
        ((g = new ResizeObserver((y) => {
            let [b] = y;
            (b &&
                b.target === d &&
                g &&
                (g.unobserve(t),
                cancelAnimationFrame(p),
                (p = requestAnimationFrame(() => {
                    var w;
                    (w = g) == null || w.observe(t);
                }))),
                n());
        })),
        d && !u && g.observe(d),
        g.observe(t));
    let v,
        h = u ? he(e) : null;
    u && x();
    function x() {
        const y = he(e);
        (h && (y.x !== h.x || y.y !== h.y || y.width !== h.width || y.height !== h.height) && n(),
            (h = y),
            (v = requestAnimationFrame(x)));
    }
    return (
        n(),
        () => {
            var y;
            (f.forEach((b) => {
                (o && b.removeEventListener("scroll", n), s && b.removeEventListener("resize", n));
            }),
                m == null || m(),
                (y = g) == null || y.disconnect(),
                (g = null),
                u && cancelAnimationFrame(v));
        }
    );
}
const Qi = Ti,
    Ji = Oi,
    ea = Si,
    ta = Di,
    na = Ri,
    Ln = ji,
    ra = ki,
    oa = (e, t, n) => {
        const r = new Map(),
            o = { platform: Ki, ...n },
            s = { ...o.platform, _c: r };
        return Pi(e, t, { ...o, platform: s });
    };
var Je = typeof document < "u" ? l.useLayoutEffect : l.useEffect;
function it(e, t) {
    if (e === t) return !0;
    if (typeof e != typeof t) return !1;
    if (typeof e == "function" && e.toString() === t.toString()) return !0;
    let n, r, o;
    if (e && t && typeof e == "object") {
        if (Array.isArray(e)) {
            if (((n = e.length), n !== t.length)) return !1;
            for (r = n; r-- !== 0; ) if (!it(e[r], t[r])) return !1;
            return !0;
        }
        if (((o = Object.keys(e)), (n = o.length), n !== Object.keys(t).length)) return !1;
        for (r = n; r-- !== 0; ) if (!{}.hasOwnProperty.call(t, o[r])) return !1;
        for (r = n; r-- !== 0; ) {
            const s = o[r];
            if (!(s === "_owner" && e.$$typeof) && !it(e[s], t[s])) return !1;
        }
        return !0;
    }
    return e !== e && t !== t;
}
function Rr(e) {
    return typeof window > "u" ? 1 : (e.ownerDocument.defaultView || window).devicePixelRatio || 1;
}
function Mn(e, t) {
    const n = Rr(e);
    return Math.round(t * n) / n;
}
function Fn(e) {
    const t = l.useRef(e);
    return (
        Je(() => {
            t.current = e;
        }),
        t
    );
}
function Ar(e) {
    e === void 0 && (e = {});
    const {
            placement: t = "bottom",
            strategy: n = "absolute",
            middleware: r = [],
            platform: o,
            elements: { reference: s, floating: i } = {},
            transform: a = !0,
            whileElementsMounted: u,
            open: d,
        } = e,
        [f, m] = l.useState({
            x: 0,
            y: 0,
            strategy: n,
            placement: t,
            middlewareData: {},
            isPositioned: !1,
        }),
        [p, g] = l.useState(r);
    it(p, r) || g(r);
    const [v, h] = l.useState(null),
        [x, y] = l.useState(null),
        b = l.useCallback((R) => {
            R !== P.current && ((P.current = R), h(R));
        }, []),
        w = l.useCallback((R) => {
            R !== N.current && ((N.current = R), y(R));
        }, []),
        C = s || v,
        E = i || x,
        P = l.useRef(null),
        N = l.useRef(null),
        S = l.useRef(f),
        O = u != null,
        A = Fn(u),
        I = Fn(o),
        k = l.useCallback(() => {
            if (!P.current || !N.current) return;
            const R = { placement: t, strategy: n, middleware: p };
            (I.current && (R.platform = I.current),
                oa(P.current, N.current, R).then((M) => {
                    const V = { ...M, isPositioned: !0 };
                    F.current &&
                        !it(S.current, V) &&
                        ((S.current = V),
                        or.flushSync(() => {
                            m(V);
                        }));
                }));
        }, [p, t, n, I]);
    Je(() => {
        d === !1 && S.current.isPositioned && ((S.current.isPositioned = !1), m((R) => ({ ...R, isPositioned: !1 })));
    }, [d]);
    const F = l.useRef(!1);
    (Je(
        () => (
            (F.current = !0),
            () => {
                F.current = !1;
            }
        ),
        []
    ),
        Je(() => {
            if ((C && (P.current = C), E && (N.current = E), C && E)) {
                if (A.current) return A.current(C, E, k);
                k();
            }
        }, [C, E, k, A, O]));
    const L = l.useMemo(() => ({ reference: P, floating: N, setReference: b, setFloating: w }), [b, w]),
        T = l.useMemo(() => ({ reference: C, floating: E }), [C, E]),
        _ = l.useMemo(() => {
            const R = { position: n, left: 0, top: 0 };
            if (!T.floating) return R;
            const M = Mn(T.floating, f.x),
                V = Mn(T.floating, f.y);
            return a
                ? {
                      ...R,
                      transform: "translate(" + M + "px, " + V + "px)",
                      ...(Rr(T.floating) >= 1.5 && { willChange: "transform" }),
                  }
                : { position: n, left: M, top: V };
        }, [n, a, T.floating, f.x, f.y]);
    return l.useMemo(() => ({ ...f, update: k, refs: L, elements: T, floatingStyles: _ }), [f, k, L, T, _]);
}
const sa = (e) => {
        function t(n) {
            return {}.hasOwnProperty.call(n, "current");
        }
        return {
            name: "arrow",
            options: e,
            fn(n) {
                const { element: r, padding: o } = typeof e == "function" ? e(n) : e;
                return r && t(r)
                    ? r.current != null
                        ? Ln({ element: r.current, padding: o }).fn(n)
                        : {}
                    : r
                      ? Ln({ element: r, padding: o }).fn(n)
                      : {};
            },
        };
    },
    Tr = (e, t) => ({ ...Qi(e), options: [e, t] }),
    Or = (e, t) => ({ ...Ji(e), options: [e, t] }),
    kr = (e, t) => ({ ...ra(e), options: [e, t] }),
    Dr = (e, t) => ({ ...ea(e), options: [e, t] }),
    Lr = (e, t) => ({ ...ta(e), options: [e, t] }),
    Mr = (e, t) => ({ ...na(e), options: [e, t] }),
    Fr = (e, t) => ({ ...sa(e), options: [e, t] });
var ia = "Arrow",
    Ir = l.forwardRef((e, t) => {
        const { children: n, width: r = 10, height: o = 5, ...s } = e;
        return c.jsx(ge.svg, {
            ...s,
            ref: t,
            width: r,
            height: o,
            viewBox: "0 0 30 10",
            preserveAspectRatio: "none",
            children: e.asChild ? n : c.jsx("polygon", { points: "0,0 30,0 15,10" }),
        });
    });
Ir.displayName = ia;
var aa = Ir,
    sn = "Popper",
    [_r, $r] = sr(sn),
    [ca, Br] = _r(sn),
    Hr = (e) => {
        const { __scopePopper: t, children: n } = e,
            [r, o] = l.useState(null);
        return c.jsx(ca, { scope: t, anchor: r, onAnchorChange: o, children: n });
    };
Hr.displayName = sn;
var Vr = "PopperAnchor",
    Wr = l.forwardRef((e, t) => {
        const { __scopePopper: n, virtualRef: r, ...o } = e,
            s = Br(Vr, n),
            i = l.useRef(null),
            a = je(t, i);
        return (
            l.useEffect(() => {
                s.onAnchorChange((r == null ? void 0 : r.current) || i.current);
            }),
            r ? null : c.jsx(ge.div, { ...o, ref: a })
        );
    });
Wr.displayName = Vr;
var an = "PopperContent",
    [la, ua] = _r(an),
    Ur = l.forwardRef((e, t) => {
        var Te, Oe, ke, De, Le, Me;
        const {
                __scopePopper: n,
                side: r = "bottom",
                sideOffset: o = 0,
                align: s = "center",
                alignOffset: i = 0,
                arrowPadding: a = 0,
                avoidCollisions: u = !0,
                collisionBoundary: d = [],
                collisionPadding: f = 0,
                sticky: m = "partial",
                hideWhenDetached: p = !1,
                updatePositionStrategy: g = "optimized",
                onPlaced: v,
                ...h
            } = e,
            x = Br(an, n),
            [y, b] = l.useState(null),
            w = je(t, (U) => b(U)),
            [C, E] = l.useState(null),
            P = ir(C),
            N = (P == null ? void 0 : P.width) ?? 0,
            S = (P == null ? void 0 : P.height) ?? 0,
            O = r + (s !== "center" ? "-" + s : ""),
            A = typeof f == "number" ? f : { top: 0, right: 0, bottom: 0, left: 0, ...f },
            I = Array.isArray(d) ? d : [d],
            k = I.length > 0,
            F = { padding: A, boundary: I.filter(fa), altBoundary: k },
            {
                refs: L,
                floatingStyles: T,
                placement: _,
                isPositioned: R,
                middlewareData: M,
            } = Ar({
                strategy: "fixed",
                placement: O,
                whileElementsMounted: (...U) => Sr(...U, { animationFrame: g === "always" }),
                elements: { reference: x.anchor },
                middleware: [
                    Tr({ mainAxis: o + S, alignmentAxis: i }),
                    u &&
                        Or({
                            mainAxis: !0,
                            crossAxis: !1,
                            limiter: m === "partial" ? kr() : void 0,
                            ...F,
                        }),
                    u && Dr({ ...F }),
                    Lr({
                        ...F,
                        apply: ({ elements: U, rects: Fe, availableWidth: bt, availableHeight: wt }) => {
                            const { width: Ct, height: Et } = Fe.reference,
                                Q = U.floating.style;
                            (Q.setProperty("--radix-popper-available-width", `${bt}px`),
                                Q.setProperty("--radix-popper-available-height", `${wt}px`),
                                Q.setProperty("--radix-popper-anchor-width", `${Ct}px`),
                                Q.setProperty("--radix-popper-anchor-height", `${Et}px`));
                        },
                    }),
                    C && Fr({ element: C, padding: a }),
                    pa({ arrowWidth: N, arrowHeight: S }),
                    p && Mr({ strategy: "referenceHidden", ...F }),
                ],
            }),
            [V, mt] = Xr(_),
            Z = ee(v);
        fe(() => {
            R && (Z == null || Z());
        }, [R, Z]);
        const ht = (Te = M.arrow) == null ? void 0 : Te.x,
            gt = (Oe = M.arrow) == null ? void 0 : Oe.y,
            vt = ((ke = M.arrow) == null ? void 0 : ke.centerOffset) !== 0,
            [xt, yt] = l.useState();
        return (
            fe(() => {
                y && yt(window.getComputedStyle(y).zIndex);
            }, [y]),
            c.jsx("div", {
                ref: L.setFloating,
                "data-radix-popper-content-wrapper": "",
                style: {
                    ...T,
                    transform: R ? T.transform : "translate(0, -200%)",
                    minWidth: "max-content",
                    zIndex: xt,
                    "--radix-popper-transform-origin": [
                        (De = M.transformOrigin) == null ? void 0 : De.x,
                        (Le = M.transformOrigin) == null ? void 0 : Le.y,
                    ].join(" "),
                    ...(((Me = M.hide) == null ? void 0 : Me.referenceHidden) && {
                        visibility: "hidden",
                        pointerEvents: "none",
                    }),
                },
                dir: e.dir,
                children: c.jsx(la, {
                    scope: n,
                    placedSide: V,
                    onArrowChange: E,
                    arrowX: ht,
                    arrowY: gt,
                    shouldHideArrow: vt,
                    children: c.jsx(ge.div, {
                        "data-side": V,
                        "data-align": mt,
                        ...h,
                        ref: w,
                        style: { ...h.style, animation: R ? void 0 : "none" },
                    }),
                }),
            })
        );
    });
Ur.displayName = an;
var zr = "PopperArrow",
    da = { top: "bottom", right: "left", bottom: "top", left: "right" },
    Yr = l.forwardRef(function (t, n) {
        const { __scopePopper: r, ...o } = t,
            s = ua(zr, r),
            i = da[s.placedSide];
        return c.jsx("span", {
            ref: s.onArrowChange,
            style: {
                position: "absolute",
                left: s.arrowX,
                top: s.arrowY,
                [i]: 0,
                transformOrigin: {
                    top: "",
                    right: "0 0",
                    bottom: "center 0",
                    left: "100% 0",
                }[s.placedSide],
                transform: {
                    top: "translateY(100%)",
                    right: "translateY(50%) rotate(90deg) translateX(-50%)",
                    bottom: "rotate(180deg)",
                    left: "translateY(50%) rotate(-90deg) translateX(50%)",
                }[s.placedSide],
                visibility: s.shouldHideArrow ? "hidden" : void 0,
            },
            children: c.jsx(aa, {
                ...o,
                ref: n,
                style: { ...o.style, display: "block" },
            }),
        });
    });
Yr.displayName = zr;
function fa(e) {
    return e !== null;
}
var pa = (e) => ({
    name: "transformOrigin",
    options: e,
    fn(t) {
        var x, y, b;
        const { placement: n, rects: r, middlewareData: o } = t,
            i = ((x = o.arrow) == null ? void 0 : x.centerOffset) !== 0,
            a = i ? 0 : e.arrowWidth,
            u = i ? 0 : e.arrowHeight,
            [d, f] = Xr(n),
            m = { start: "0%", center: "50%", end: "100%" }[f],
            p = (((y = o.arrow) == null ? void 0 : y.x) ?? 0) + a / 2,
            g = (((b = o.arrow) == null ? void 0 : b.y) ?? 0) + u / 2;
        let v = "",
            h = "";
        return (
            d === "bottom"
                ? ((v = i ? m : `${p}px`), (h = `${-u}px`))
                : d === "top"
                  ? ((v = i ? m : `${p}px`), (h = `${r.floating.height + u}px`))
                  : d === "right"
                    ? ((v = `${-u}px`), (h = i ? m : `${g}px`))
                    : d === "left" && ((v = `${r.floating.width + u}px`), (h = i ? m : `${g}px`)),
            { data: { x: v, y: h } }
        );
    },
});
function Xr(e) {
    const [t, n = "center"] = e.split("-");
    return [t, n];
}
var ma = Hr,
    ha = Wr,
    ga = Ur,
    va = Yr,
    xa = "VisuallyHidden",
    qr = l.forwardRef((e, t) =>
        c.jsx(ge.span, {
            ...e,
            ref: t,
            style: {
                position: "absolute",
                border: 0,
                width: 1,
                height: 1,
                padding: 0,
                margin: -1,
                overflow: "hidden",
                clip: "rect(0, 0, 0, 0)",
                whiteSpace: "nowrap",
                wordWrap: "normal",
                ...e.style,
            },
        })
    );
qr.displayName = xa;
var ya = qr,
    [lt, gu] = sr("Tooltip", [$r]),
    ut = $r(),
    Gr = "TooltipProvider",
    ba = 700,
    Bt = "tooltip.open",
    [wa, cn] = lt(Gr),
    Kr = (e) => {
        const {
                __scopeTooltip: t,
                delayDuration: n = ba,
                skipDelayDuration: r = 300,
                disableHoverableContent: o = !1,
                children: s,
            } = e,
            [i, a] = l.useState(!0),
            u = l.useRef(!1),
            d = l.useRef(0);
        return (
            l.useEffect(() => {
                const f = d.current;
                return () => window.clearTimeout(f);
            }, []),
            c.jsx(wa, {
                scope: t,
                isOpenDelayed: i,
                delayDuration: n,
                onOpen: l.useCallback(() => {
                    (window.clearTimeout(d.current), a(!1));
                }, []),
                onClose: l.useCallback(() => {
                    (window.clearTimeout(d.current), (d.current = window.setTimeout(() => a(!0), r)));
                }, [r]),
                isPointerInTransitRef: u,
                onPointerInTransitChange: l.useCallback((f) => {
                    u.current = f;
                }, []),
                disableHoverableContent: o,
                children: s,
            })
        );
    };
Kr.displayName = Gr;
var dt = "Tooltip",
    [Ca, ft] = lt(dt),
    Zr = (e) => {
        const {
                __scopeTooltip: t,
                children: n,
                open: r,
                defaultOpen: o = !1,
                onOpenChange: s,
                disableHoverableContent: i,
                delayDuration: a,
            } = e,
            u = cn(dt, e.__scopeTooltip),
            d = ut(t),
            [f, m] = l.useState(null),
            p = ar(),
            g = l.useRef(0),
            v = i ?? u.disableHoverableContent,
            h = a ?? u.delayDuration,
            x = l.useRef(!1),
            [y = !1, b] = cr({
                prop: r,
                defaultProp: o,
                onChange: (N) => {
                    (N ? (u.onOpen(), document.dispatchEvent(new CustomEvent(Bt))) : u.onClose(), s == null || s(N));
                },
            }),
            w = l.useMemo(() => (y ? (x.current ? "delayed-open" : "instant-open") : "closed"), [y]),
            C = l.useCallback(() => {
                (window.clearTimeout(g.current), (x.current = !1), b(!0));
            }, [b]),
            E = l.useCallback(() => {
                (window.clearTimeout(g.current), b(!1));
            }, [b]),
            P = l.useCallback(() => {
                (window.clearTimeout(g.current),
                    (g.current = window.setTimeout(() => {
                        ((x.current = !0), b(!0));
                    }, h)));
            }, [h, b]);
        return (
            l.useEffect(() => () => window.clearTimeout(g.current), []),
            c.jsx(ma, {
                ...d,
                children: c.jsx(Ca, {
                    scope: t,
                    contentId: p,
                    open: y,
                    stateAttribute: w,
                    trigger: f,
                    onTriggerChange: m,
                    onTriggerEnter: l.useCallback(() => {
                        u.isOpenDelayed ? P() : C();
                    }, [u.isOpenDelayed, P, C]),
                    onTriggerLeave: l.useCallback(() => {
                        v ? E() : window.clearTimeout(g.current);
                    }, [E, v]),
                    onOpen: C,
                    onClose: E,
                    disableHoverableContent: v,
                    children: n,
                }),
            })
        );
    };
Zr.displayName = dt;
var Ht = "TooltipTrigger",
    Qr = l.forwardRef((e, t) => {
        const { __scopeTooltip: n, ...r } = e,
            o = ft(Ht, n),
            s = cn(Ht, n),
            i = ut(n),
            a = l.useRef(null),
            u = je(t, a, o.onTriggerChange),
            d = l.useRef(!1),
            f = l.useRef(!1),
            m = l.useCallback(() => (d.current = !1), []);
        return (
            l.useEffect(() => () => document.removeEventListener("pointerup", m), [m]),
            c.jsx(ha, {
                asChild: !0,
                ...i,
                children: c.jsx(ge.button, {
                    "aria-describedby": o.open ? o.contentId : void 0,
                    "data-state": o.stateAttribute,
                    ...r,
                    ref: u,
                    onPointerMove: J(e.onPointerMove, (p) => {
                        p.pointerType !== "touch" &&
                            !f.current &&
                            !s.isPointerInTransitRef.current &&
                            (o.onTriggerEnter(), (f.current = !0));
                    }),
                    onPointerLeave: J(e.onPointerLeave, () => {
                        (o.onTriggerLeave(), (f.current = !1));
                    }),
                    onPointerDown: J(e.onPointerDown, () => {
                        ((d.current = !0), document.addEventListener("pointerup", m, { once: !0 }));
                    }),
                    onFocus: J(e.onFocus, () => {
                        d.current || o.onOpen();
                    }),
                    onBlur: J(e.onBlur, o.onClose),
                    onClick: J(e.onClick, o.onClose),
                }),
            })
        );
    });
Qr.displayName = Ht;
var Ea = "TooltipPortal",
    [vu, Na] = lt(Ea, { forceMount: void 0 }),
    Ne = "TooltipContent",
    Jr = l.forwardRef((e, t) => {
        const n = Na(Ne, e.__scopeTooltip),
            { forceMount: r = n.forceMount, side: o = "top", ...s } = e,
            i = ft(Ne, e.__scopeTooltip);
        return c.jsx(ws, {
            present: r || i.open,
            children: i.disableHoverableContent
                ? c.jsx(eo, { side: o, ...s, ref: t })
                : c.jsx(Pa, { side: o, ...s, ref: t }),
        });
    }),
    Pa = l.forwardRef((e, t) => {
        const n = ft(Ne, e.__scopeTooltip),
            r = cn(Ne, e.__scopeTooltip),
            o = l.useRef(null),
            s = je(t, o),
            [i, a] = l.useState(null),
            { trigger: u, onClose: d } = n,
            f = o.current,
            { onPointerInTransitChange: m } = r,
            p = l.useCallback(() => {
                (a(null), m(!1));
            }, [m]),
            g = l.useCallback(
                (v, h) => {
                    const x = v.currentTarget,
                        y = { x: v.clientX, y: v.clientY },
                        b = Aa(y, x.getBoundingClientRect()),
                        w = Ta(y, b),
                        C = Oa(h.getBoundingClientRect()),
                        E = Da([...w, ...C]);
                    (a(E), m(!0));
                },
                [m]
            );
        return (
            l.useEffect(() => () => p(), [p]),
            l.useEffect(() => {
                if (u && f) {
                    const v = (x) => g(x, f),
                        h = (x) => g(x, u);
                    return (
                        u.addEventListener("pointerleave", v),
                        f.addEventListener("pointerleave", h),
                        () => {
                            (u.removeEventListener("pointerleave", v), f.removeEventListener("pointerleave", h));
                        }
                    );
                }
            }, [u, f, g, p]),
            l.useEffect(() => {
                if (i) {
                    const v = (h) => {
                        const x = h.target,
                            y = { x: h.clientX, y: h.clientY },
                            b = (u == null ? void 0 : u.contains(x)) || (f == null ? void 0 : f.contains(x)),
                            w = !ka(y, i);
                        b ? p() : w && (p(), d());
                    };
                    return (
                        document.addEventListener("pointermove", v),
                        () => document.removeEventListener("pointermove", v)
                    );
                }
            }, [u, f, i, d, p]),
            c.jsx(eo, { ...e, ref: s })
        );
    }),
    [ja, Sa] = lt(dt, { isInside: !1 }),
    eo = l.forwardRef((e, t) => {
        const {
                __scopeTooltip: n,
                children: r,
                "aria-label": o,
                onEscapeKeyDown: s,
                onPointerDownOutside: i,
                ...a
            } = e,
            u = ft(Ne, n),
            d = ut(n),
            { onClose: f } = u;
        return (
            l.useEffect(() => (document.addEventListener(Bt, f), () => document.removeEventListener(Bt, f)), [f]),
            l.useEffect(() => {
                if (u.trigger) {
                    const m = (p) => {
                        const g = p.target;
                        g != null && g.contains(u.trigger) && f();
                    };
                    return (
                        window.addEventListener("scroll", m, { capture: !0 }),
                        () => window.removeEventListener("scroll", m, { capture: !0 })
                    );
                }
            }, [u.trigger, f]),
            c.jsx(vr, {
                asChild: !0,
                disableOutsidePointerEvents: !1,
                onEscapeKeyDown: s,
                onPointerDownOutside: i,
                onFocusOutside: (m) => m.preventDefault(),
                onDismiss: f,
                children: c.jsxs(ga, {
                    "data-state": u.stateAttribute,
                    ...d,
                    ...a,
                    ref: t,
                    style: {
                        ...a.style,
                        "--radix-tooltip-content-transform-origin": "var(--radix-popper-transform-origin)",
                        "--radix-tooltip-content-available-width": "var(--radix-popper-available-width)",
                        "--radix-tooltip-content-available-height": "var(--radix-popper-available-height)",
                        "--radix-tooltip-trigger-width": "var(--radix-popper-anchor-width)",
                        "--radix-tooltip-trigger-height": "var(--radix-popper-anchor-height)",
                    },
                    children: [
                        c.jsx(Cs, { children: r }),
                        c.jsx(ja, {
                            scope: n,
                            isInside: !0,
                            children: c.jsx(ya, {
                                id: u.contentId,
                                role: "tooltip",
                                children: o || r,
                            }),
                        }),
                    ],
                }),
            })
        );
    });
Jr.displayName = Ne;
var to = "TooltipArrow",
    Ra = l.forwardRef((e, t) => {
        const { __scopeTooltip: n, ...r } = e,
            o = ut(n);
        return Sa(to, n).isInside ? null : c.jsx(va, { ...o, ...r, ref: t });
    });
Ra.displayName = to;
function Aa(e, t) {
    const n = Math.abs(t.top - e.y),
        r = Math.abs(t.bottom - e.y),
        o = Math.abs(t.right - e.x),
        s = Math.abs(t.left - e.x);
    switch (Math.min(n, r, o, s)) {
        case s:
            return "left";
        case o:
            return "right";
        case n:
            return "top";
        case r:
            return "bottom";
        default:
            throw new Error("unreachable");
    }
}
function Ta(e, t, n = 5) {
    const r = [];
    switch (t) {
        case "top":
            r.push({ x: e.x - n, y: e.y + n }, { x: e.x + n, y: e.y + n });
            break;
        case "bottom":
            r.push({ x: e.x - n, y: e.y - n }, { x: e.x + n, y: e.y - n });
            break;
        case "left":
            r.push({ x: e.x + n, y: e.y - n }, { x: e.x + n, y: e.y + n });
            break;
        case "right":
            r.push({ x: e.x - n, y: e.y - n }, { x: e.x - n, y: e.y + n });
            break;
    }
    return r;
}
function Oa(e) {
    const { top: t, right: n, bottom: r, left: o } = e;
    return [
        { x: o, y: t },
        { x: n, y: t },
        { x: n, y: r },
        { x: o, y: r },
    ];
}
function ka(e, t) {
    const { x: n, y: r } = e;
    let o = !1;
    for (let s = 0, i = t.length - 1; s < t.length; i = s++) {
        const a = t[s].x,
            u = t[s].y,
            d = t[i].x,
            f = t[i].y;
        u > r != f > r && n < ((d - a) * (r - u)) / (f - u) + a && (o = !o);
    }
    return o;
}
function Da(e) {
    const t = e.slice();
    return (t.sort((n, r) => (n.x < r.x ? -1 : n.x > r.x ? 1 : n.y < r.y ? -1 : n.y > r.y ? 1 : 0)), La(t));
}
function La(e) {
    if (e.length <= 1) return e.slice();
    const t = [];
    for (let r = 0; r < e.length; r++) {
        const o = e[r];
        for (; t.length >= 2; ) {
            const s = t[t.length - 1],
                i = t[t.length - 2];
            if ((s.x - i.x) * (o.y - i.y) >= (s.y - i.y) * (o.x - i.x)) t.pop();
            else break;
        }
        t.push(o);
    }
    t.pop();
    const n = [];
    for (let r = e.length - 1; r >= 0; r--) {
        const o = e[r];
        for (; n.length >= 2; ) {
            const s = n[n.length - 1],
                i = n[n.length - 2];
            if ((s.x - i.x) * (o.y - i.y) >= (s.y - i.y) * (o.x - i.x)) n.pop();
            else break;
        }
        n.push(o);
    }
    return (n.pop(), t.length === 1 && n.length === 1 && t[0].x === n[0].x && t[0].y === n[0].y ? t : t.concat(n));
}
var Ma = Kr,
    Fa = Zr,
    Ia = Qr,
    no = Jr;
const ro = Ma,
    oo = Fa,
    so = Ia,
    ln = l.forwardRef(({ className: e, sideOffset: t = 4, ...n }, r) =>
        c.jsx(no, {
            ref: r,
            sideOffset: t,
            className: D(
                "z-50 overflow-hidden rounded-md border border-slate-200 bg-white px-3 py-1.5 text-sm text-slate-950 shadow-md animate-in fade-in-0 zoom-in-95 data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=closed]:zoom-out-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2 dark:border-slate-800 dark:bg-slate-950 dark:text-slate-50",
                e
            ),
            ...n,
        })
    );
ln.displayName = no.displayName;
function un(e) {
    const { className: t, width: n = 40, message: r } = e;
    return c.jsx(ro, {
        children: c.jsxs(oo, {
            children: [
                c.jsx(so, {
                    asChild: !0,
                    className: $("h-4 w-4 text-blue-500", t),
                    children: c.jsx(Qs, {}),
                }),
                c.jsx(ln, {
                    className: `text-slate-500 w-${n}`,
                    children: c.jsx("p", {
                        className: "text-sm font-normal",
                        children: r,
                    }),
                }),
            ],
        }),
    });
}
un.propTypes = { className: j.string, message: j.string, width: j.number };
function _a() {
    const { error: e, fit: t } = K(),
        { errors: n, devErrors: r, issues: o } = t || {},
        [s, i] = l.useState(!1),
        a = () => i((p) => !p),
        u = t && (o.length > 0 || r.length > 0),
        d = `FIT File Viewer is stricter than most apps so it can recover from corrupted files and provide information for developers.
    Sometimes a file can be imported in Garmin Connect, even though it shows an issue here.`;
    l.useEffect(() => {
        i(!1);
    }, [t]);
    function f(p) {
        (window.postMessage({ type: "showError", payload: p.record }, window.location.origin), console.log(p));
    }
    function m(p) {
        return [$e && p.record.toLocaleString(), `Position ${p.position.toLocaleString()}`, p.message]
            .filter(Boolean)
            .join(": ");
    }
    return c.jsxs(c.Fragment, {
        children: [
            e &&
                c.jsx(se, {
                    variant: "destructive",
                    children: c.jsx(Ie, { children: e.message }),
                }),
            n == null
                ? void 0
                : n.map((p) =>
                      c.jsx(
                          se,
                          {
                              variant: "destructive",
                              children: c.jsx(Ie, { children: p.message }),
                          },
                          p.message
                      )
                  ),
            u &&
                c.jsxs(c.Fragment, {
                    children: [
                        c.jsxs(se, {
                            variant: "destructive",
                            children: [
                                c.jsxs(Ie, {
                                    className: "flex align-top",
                                    children: [
                                        "There were issues decoding this file",
                                        c.jsx(un, { className: "ms-2", width: 60, message: d }),
                                    ],
                                }),
                                c.jsx(Qe, {
                                    children: c.jsxs("ul", {
                                        className: "list-disc ps-5",
                                        children: [
                                            o.map((p) =>
                                                c.jsx("li", { children: `${p.message}: ${p.description}` }, p.message)
                                            ),
                                            r.length > 0 &&
                                                c.jsxs("li", {
                                                    children: [
                                                        c.jsx("span", {
                                                            className: "me-3",
                                                            children:
                                                                "The file is corrupt: something went wrong downloading or copying the file?",
                                                        }),
                                                        c.jsxs(pe, {
                                                            type: "button",
                                                            variant: "secondary",
                                                            size: "xs",
                                                            onClick: a,
                                                            children: [s ? "Hide " : "View ", "errors"],
                                                        }),
                                                    ],
                                                }),
                                        ],
                                    }),
                                }),
                            ],
                        }),
                        c.jsx(se, {
                            className: "print:hidden",
                            children: c.jsx(Qe, {
                                children: c.jsxs("div", {
                                    className: "flex flex-col sm:flex-row items-center gap-3",
                                    children: [
                                        c.jsx(li, { variant: "default" }),
                                        c.jsxs("div", {
                                            className: "text-slate-500",
                                            children: [
                                                "You should be able to import the downloaded file in Garmin Connect.",
                                                c.jsx("br", {}),
                                                "If not, please share the original file using the form at the bottom.",
                                            ],
                                        }),
                                    ],
                                }),
                            }),
                        }),
                    ],
                }),
            s &&
                r &&
                c.jsxs(se, {
                    variant: "destructive",
                    className: "pb-1",
                    children: [
                        c.jsxs(Ie, {
                            className: "flex justify-between align-top",
                            children: [
                                c.jsx("div", { children: "Decoding Errors" }),
                                c.jsx(at, { onClick: a, "aria-label": "Hide errors" }),
                            ],
                        }),
                        c.jsx(Qe, {
                            className: "mb-0",
                            children: c.jsx(Zt, {
                                items: r,
                                paginationId: "errors",
                                className: "py-1 border-red-300",
                                children: (p) =>
                                    c.jsx("ul", {
                                        className: "mb-1",
                                        children: p.map((g) =>
                                            c.jsxs(
                                                "li",
                                                {
                                                    children: [
                                                        m(g),
                                                        $e &&
                                                            c.jsx("button", {
                                                                type: "button",
                                                                className: "ms-2",
                                                                "aria-label": "view error",
                                                                onClick: () => f(g),
                                                                children: c.jsx(Gs, {
                                                                    className: "h-3 w-3 text-slate-500",
                                                                }),
                                                            }),
                                                    ],
                                                },
                                                g.position
                                            )
                                        ),
                                    }),
                            }),
                        }),
                    ],
                }),
        ],
    });
}
function $a(e) {
    const t = Object.prototype.toString.call(e);
    return e instanceof Date || (typeof e == "object" && t === "[object Date]")
        ? new e.constructor(+e)
        : typeof e == "number" || t === "[object Number]" || typeof e == "string" || t === "[object String]"
          ? new Date(e)
          : new Date(NaN);
}
function In(e) {
    const t = $a(e);
    return (t.setHours(0, 0, 0, 0), t);
}
function Ba(e, t) {
    const n = In(e),
        r = In(t);
    return +n == +r;
}
const io = l.forwardRef(({ className: e, ...t }, n) =>
    c.jsx("div", {
        className: "relative w-full bg-gray-50 overflow-auto",
        children: c.jsx("table", {
            ref: n,
            className: D(
                "w-fit bg-white caption-bottom text-sm",
                "[&_tr>*]:border-r",
                "[&_tr>*:last-child]:border-r-0",
                e
            ),
            ...t,
        }),
    })
);
io.displayName = "Table";
const ao = l.forwardRef(({ className: e, ...t }, n) =>
    c.jsx("thead", { ref: n, className: D("[&_tr]:border-b", e), ...t })
);
ao.displayName = "TableHeader";
const co = l.forwardRef(({ className: e, ...t }, n) =>
    c.jsx("tbody", {
        ref: n,
        className: D("[&_tr:last-child]:border-0", e),
        ...t,
    })
);
co.displayName = "TableBody";
const Ha = l.forwardRef(({ className: e, ...t }, n) =>
    c.jsx("tfoot", {
        ref: n,
        className: D("bg-slate-900 font-medium text-slate-50 dark:bg-slate-50 dark:text-slate-900", e),
        ...t,
    })
);
Ha.displayName = "TableFooter";
const Vt = l.forwardRef(({ className: e, ...t }, n) =>
    c.jsx("tr", {
        ref: n,
        className: D(
            "border-b transition-colors hover:bg-slate-100/50 data-[state=selected]:bg-slate-100 dark:hover:bg-slate-800/50 dark:data-[state=selected]:bg-slate-800",
            e
        ),
        ...t,
    })
);
Vt.displayName = "TableRow";
const dn = l.forwardRef(({ className: e, ...t }, n) =>
    c.jsx("th", {
        ref: n,
        className: D(
            "text-center align-bottom p-1 font-medium text-slate-500 [&:has([role=checkbox])]:pr-0 dark:text-slate-400",
            e
        ),
        ...t,
    })
);
dn.displayName = "TableHead";
const fn = l.forwardRef(({ className: e, ...t }, n) =>
    c.jsx("td", {
        ref: n,
        className: D("p-1 align-top [&:has([role=checkbox])]:pr-0", e),
        ...t,
    })
);
fn.displayName = "TableCell";
const Va = l.forwardRef(({ className: e, ...t }, n) =>
    c.jsx("caption", {
        ref: n,
        className: D("mt-4 text-sm text-slate-500 dark:text-slate-400", e),
        ...t,
    })
);
Va.displayName = "TableCaption";
function Wa(e) {
    var t;
    return ((t = e.toString().split(".")[1]) == null ? void 0 : t.length) ?? 0;
}
function lo(e) {
    switch (typeof e) {
        case "number":
            return { number: e };
        case "string": {
            const t = Wa(e);
            return { number: Number(e), options: { minimumFractionDigits: t } };
        }
        default:
            throw (console.error("Unsupported type", typeof e, e), new Error("Unsupported type"));
    }
}
function Ua(e, t) {
    const { number: r, options: o } = lo(e);
    return r.toLocaleString(void 0, o);
}
function _n(e) {
    const [t, n] = e.split("."),
        r = t % 60,
        o = Math.floor(t / 60) % 60,
        s = Math.floor(t / 3600) % 24,
        i = Math.floor(t / 86400),
        a = [s, o, r];
    t < 3600 && a.shift();
    let u = a.map((d, f) => d.toString().padStart(f === 0 ? 1 : 2, "0")).join(":");
    return (i > 0 && (u = `${i}d ${u}`), n && n !== "000" && (u += `.${n}`), u.replace(/^0(\d)/, "$1"));
}
function za(e) {
    return e === 0 || !!e;
}
function pn(e, t = {}) {
    if (me(e)) return "-";
    const { fieldType: n, skipEmpty: r, units: o, length: s, size: i } = t;
    if (Array.isArray(e)) return n === "byte" ? Os(e) : (r ? e.filter(za) : e).map((a) => pn(a)).join(", ");
    switch (n) {
        case "bits":
            return Ds(e, s ?? i * 8);
        case "byte":
            return ks(e, i * 2);
        case "localtimeIntoDay":
            return new Date(e * 1e3).toISOString().slice(11, 16);
    }
    switch (o) {
        case "s":
            return _n(e.toString());
        case "min":
            return _n((Number(e) * 60).toString()).slice(0, -3);
    }
    return o && typeof e == "string" && qt.includes(n) ? Ua(e) : Gt(e);
}
function Ya(e) {
    const { fieldValue: t, rawFieldValue: n, fieldDefinition: r } = e;
    return t instanceof Date ? de(t) : typeof n == "number" && r.baseType === Ls.BaseType.UINT32 ? de(Bs(n)) : "";
}
function Xa(e) {
    const { rawFieldValue: t, field: n, fieldDefinition: r } = e,
        { fieldType: o } = n ?? {},
        { size: s } = r ?? {};
    return c.jsx("span", {
        title: Ya(e),
        children: pn(t, { fieldType: o, size: s }),
    });
}
function qa(e) {
    const { fieldValue: t, rawFieldValue: n, field: r, memo: o, subfield: s, fieldDefinition: i } = e,
        { units: a, fieldType: u, fieldName: d, length: f } = r ?? {},
        { size: m } = i ?? {};
    if (d === "application_id") {
        const p = Ms(n),
            g = `https://apps.garmin.com/apps/${p}`;
        return c.jsx(Mt, {
            title: "Link to Connect IQ app",
            className: "font-mono",
            href: g,
            target: "_blank",
            children: p,
        });
    }
    switch (u) {
        case "date_time":
        case "local_date_time":
        case "relative_date_time":
            return c.jsxs("span", {
                className: "timestamp",
                title: de(t),
                children: [
                    c.jsx("span", { className: "ts-date", children: de(t, "date") }),
                    c.jsx("span", { className: "ts-time", children: de(t, "time") }),
                ],
            });
        case "mapSymbol":
            return c.jsxs("span", {
                className: "flex",
                title: n,
                children: [
                    c.jsx("span", { className: "grow", children: t }),
                    c.jsx(Hs, { id: n, className: "ms-2 h-5 w-5" }),
                ],
            });
        default: {
            const p = o || (s ? `${s.fieldName} ${n}` : n);
            return c.jsxs("span", {
                title: p,
                children: [
                    pn(t, {
                        skipEmpty: !0,
                        units: a || (s == null ? void 0 : s.units),
                        fieldType: u,
                        length: f,
                        size: m,
                    }),
                    (s == null ? void 0 : s.units) &&
                        c.jsxs("span", {
                            className: "text-muted-foreground",
                            children: [" ", s.units],
                        }),
                ],
            });
        }
    }
}
function Ga(e) {
    const { value: t, devMode: n } = e;
    return n ? Xa(t) : qa(t);
}
const Ka = 12 * 3600;
function Za(e, t) {
    const { fieldType: n, array: r, units: o } = e,
        s = "text-start ps-2",
        i = "text-end pe-2",
        a = "text-center px-1";
    if (r || t) return s;
    if (n === "switch") return a;
    const u = qt.includes(n);
    return o || u ? i : s;
}
function Qa(e, t, n, r) {
    if (n === 0 || !["date_time", "local_date_time"].includes(r.fieldType) || me(e == null ? void 0 : e.rawFieldValue))
        return !1;
    const o = t[n - 1][r.key];
    return me(o == null ? void 0 : o.rawFieldValue)
        ? !1
        : e.rawFieldValue - o.rawFieldValue >= -Ka && Ba(e.fieldValue, o.fieldValue);
}
function uo(e) {
    const { devMode: t, className: n, field: r, messages: o, index: s } = e,
        i = o[s][r.key],
        a = (i == null ? void 0 : i.subfield) || r,
        u = !t && Qa(i, o, s, a),
        d = me(i) || i.fieldValue === "off",
        f = ["bits", "byte"].includes(a.fieldType),
        m = !t && (i == null ? void 0 : i.fieldValue) && Array.isArray(i.fieldValue);
    return c.jsx(fn, {
        className: $(
            n,
            "whitespace-pre-wrap px-2",
            Za(a, m),
            d && "text-muted-foreground",
            u && "compact-time",
            f && "font-mono"
        ),
        children: me(i) ? "-" : c.jsx(Ga, { value: i, devMode: t }),
    });
}
uo.propTypes = {
    messages: j.array,
    field: j.object,
    devMode: j.bool,
    className: j.string,
    index: j.number,
};
function fo(e) {
    const { className: t } = e;
    return c.jsx(un, {
        className: t,
        message: "The timestamp is taken from the last Record or Event message",
    });
}
fo.propTypes = { className: j.string };
function Ja() {
    return l.useContext(mr);
}
function ie(e, t, { checkForDefaultPrevented: n = !0 } = {}) {
    return function (o) {
        if ((e == null || e(o), n === !1 || !o.defaultPrevented)) return t == null ? void 0 : t(o);
    };
}
function $n(e, t) {
    if (typeof e == "function") return e(t);
    e != null && (e.current = t);
}
function po(...e) {
    return (t) => {
        let n = !1;
        const r = e.map((o) => {
            const s = $n(o, t);
            return (!n && typeof s == "function" && (n = !0), s);
        });
        if (n)
            return () => {
                for (let o = 0; o < r.length; o++) {
                    const s = r[o];
                    typeof s == "function" ? s() : $n(e[o], null);
                }
            };
    };
}
function ve(...e) {
    return l.useCallback(po(...e), e);
}
function mo(e, t = []) {
    let n = [];
    function r(s, i) {
        const a = l.createContext(i),
            u = n.length;
        n = [...n, i];
        const d = (m) => {
            var y;
            const { scope: p, children: g, ...v } = m,
                h = ((y = p == null ? void 0 : p[e]) == null ? void 0 : y[u]) || a,
                x = l.useMemo(() => v, Object.values(v));
            return c.jsx(h.Provider, { value: x, children: g });
        };
        d.displayName = s + "Provider";
        function f(m, p) {
            var h;
            const g = ((h = p == null ? void 0 : p[e]) == null ? void 0 : h[u]) || a,
                v = l.useContext(g);
            if (v) return v;
            if (i !== void 0) return i;
            throw new Error(`\`${m}\` must be used within \`${s}\``);
        }
        return [d, f];
    }
    const o = () => {
        const s = n.map((i) => l.createContext(i));
        return function (a) {
            const u = (a == null ? void 0 : a[e]) || s;
            return l.useMemo(() => ({ [`__scope${e}`]: { ...a, [e]: u } }), [a, u]);
        };
    };
    return ((o.scopeName = e), [r, ec(o, ...t)]);
}
function ec(...e) {
    const t = e[0];
    if (e.length === 1) return t;
    const n = () => {
        const r = e.map((o) => ({ useScope: o(), scopeName: o.scopeName }));
        return function (s) {
            const i = r.reduce((a, { useScope: u, scopeName: d }) => {
                const m = u(s)[`__scope${d}`];
                return { ...a, ...m };
            }, {});
            return l.useMemo(() => ({ [`__scope${t.scopeName}`]: i }), [i]);
        };
    };
    return ((n.scopeName = t.scopeName), n);
}
var mn = l.forwardRef((e, t) => {
    const { children: n, ...r } = e,
        o = l.Children.toArray(n),
        s = o.find(nc);
    if (s) {
        const i = s.props.children,
            a = o.map((u) =>
                u === s
                    ? l.Children.count(i) > 1
                        ? l.Children.only(null)
                        : l.isValidElement(i)
                          ? i.props.children
                          : null
                    : u
            );
        return c.jsx(Wt, {
            ...r,
            ref: t,
            children: l.isValidElement(i) ? l.cloneElement(i, void 0, a) : null,
        });
    }
    return c.jsx(Wt, { ...r, ref: t, children: n });
});
mn.displayName = "Slot";
var Wt = l.forwardRef((e, t) => {
    const { children: n, ...r } = e;
    if (l.isValidElement(n)) {
        const o = oc(n),
            s = rc(r, n.props);
        return (n.type !== l.Fragment && (s.ref = t ? po(t, o) : o), l.cloneElement(n, s));
    }
    return l.Children.count(n) > 1 ? l.Children.only(null) : null;
});
Wt.displayName = "SlotClone";
var tc = ({ children: e }) => c.jsx(c.Fragment, { children: e });
function nc(e) {
    return l.isValidElement(e) && e.type === tc;
}
function rc(e, t) {
    const n = { ...t };
    for (const r in t) {
        const o = e[r],
            s = t[r];
        /^on[A-Z]/.test(r)
            ? o && s
                ? (n[r] = (...a) => {
                      (s(...a), o(...a));
                  })
                : o && (n[r] = o)
            : r === "style"
              ? (n[r] = { ...o, ...s })
              : r === "className" && (n[r] = [o, s].filter(Boolean).join(" "));
    }
    return { ...e, ...n };
}
function oc(e) {
    var r, o;
    let t = (r = Object.getOwnPropertyDescriptor(e.props, "ref")) == null ? void 0 : r.get,
        n = t && "isReactWarning" in t && t.isReactWarning;
    return n
        ? e.ref
        : ((t = (o = Object.getOwnPropertyDescriptor(e, "ref")) == null ? void 0 : o.get),
          (n = t && "isReactWarning" in t && t.isReactWarning),
          n ? e.props.ref : e.props.ref || e.ref);
}
var sc = [
        "a",
        "button",
        "div",
        "form",
        "h2",
        "h3",
        "img",
        "input",
        "label",
        "li",
        "nav",
        "ol",
        "p",
        "span",
        "svg",
        "ul",
    ],
    le = sc.reduce((e, t) => {
        const n = l.forwardRef((r, o) => {
            const { asChild: s, ...i } = r,
                a = s ? mn : t;
            return (typeof window < "u" && (window[Symbol.for("radix-ui")] = !0), c.jsx(a, { ...i, ref: o }));
        });
        return ((n.displayName = `Primitive.${t}`), { ...e, [t]: n });
    }, {});
function ic(e, t) {
    e && or.flushSync(() => e.dispatchEvent(t));
}
var ac = "DismissableLayer",
    Ut = "dismissableLayer.update",
    cc = "dismissableLayer.pointerDownOutside",
    lc = "dismissableLayer.focusOutside",
    Bn,
    ho = l.createContext({
        layers: new Set(),
        layersWithOutsidePointerEventsDisabled: new Set(),
        branches: new Set(),
    }),
    go = l.forwardRef((e, t) => {
        const {
                disableOutsidePointerEvents: n = !1,
                onEscapeKeyDown: r,
                onPointerDownOutside: o,
                onFocusOutside: s,
                onInteractOutside: i,
                onDismiss: a,
                ...u
            } = e,
            d = l.useContext(ho),
            [f, m] = l.useState(null),
            p = (f == null ? void 0 : f.ownerDocument) ?? (globalThis == null ? void 0 : globalThis.document),
            [, g] = l.useState({}),
            v = ve(t, (N) => m(N)),
            h = Array.from(d.layers),
            [x] = [...d.layersWithOutsidePointerEventsDisabled].slice(-1),
            y = h.indexOf(x),
            b = f ? h.indexOf(f) : -1,
            w = d.layersWithOutsidePointerEventsDisabled.size > 0,
            C = b >= y,
            E = fc((N) => {
                const S = N.target,
                    O = [...d.branches].some((A) => A.contains(S));
                !C || O || (o == null || o(N), i == null || i(N), N.defaultPrevented || a == null || a());
            }, p),
            P = pc((N) => {
                const S = N.target;
                [...d.branches].some((A) => A.contains(S)) ||
                    (s == null || s(N), i == null || i(N), N.defaultPrevented || a == null || a());
            }, p);
        return (
            hr((N) => {
                b === d.layers.size - 1 && (r == null || r(N), !N.defaultPrevented && a && (N.preventDefault(), a()));
            }, p),
            l.useEffect(() => {
                if (f)
                    return (
                        n &&
                            (d.layersWithOutsidePointerEventsDisabled.size === 0 &&
                                ((Bn = p.body.style.pointerEvents), (p.body.style.pointerEvents = "none")),
                            d.layersWithOutsidePointerEventsDisabled.add(f)),
                        d.layers.add(f),
                        Hn(),
                        () => {
                            n &&
                                d.layersWithOutsidePointerEventsDisabled.size === 1 &&
                                (p.body.style.pointerEvents = Bn);
                        }
                    );
            }, [f, p, n, d]),
            l.useEffect(
                () => () => {
                    f && (d.layers.delete(f), d.layersWithOutsidePointerEventsDisabled.delete(f), Hn());
                },
                [f, d]
            ),
            l.useEffect(() => {
                const N = () => g({});
                return (document.addEventListener(Ut, N), () => document.removeEventListener(Ut, N));
            }, []),
            c.jsx(le.div, {
                ...u,
                ref: v,
                style: {
                    pointerEvents: w ? (C ? "auto" : "none") : void 0,
                    ...e.style,
                },
                onFocusCapture: ie(e.onFocusCapture, P.onFocusCapture),
                onBlurCapture: ie(e.onBlurCapture, P.onBlurCapture),
                onPointerDownCapture: ie(e.onPointerDownCapture, E.onPointerDownCapture),
            })
        );
    });
go.displayName = ac;
var uc = "DismissableLayerBranch",
    dc = l.forwardRef((e, t) => {
        const n = l.useContext(ho),
            r = l.useRef(null),
            o = ve(t, r);
        return (
            l.useEffect(() => {
                const s = r.current;
                if (s)
                    return (
                        n.branches.add(s),
                        () => {
                            n.branches.delete(s);
                        }
                    );
            }, [n.branches]),
            c.jsx(le.div, { ...e, ref: o })
        );
    });
dc.displayName = uc;
function fc(e, t = globalThis == null ? void 0 : globalThis.document) {
    const n = ee(e),
        r = l.useRef(!1),
        o = l.useRef(() => {});
    return (
        l.useEffect(() => {
            const s = (a) => {
                    if (a.target && !r.current) {
                        let u = function () {
                            vo(cc, n, d, { discrete: !0 });
                        };
                        const d = { originalEvent: a };
                        a.pointerType === "touch"
                            ? (t.removeEventListener("click", o.current),
                              (o.current = u),
                              t.addEventListener("click", o.current, { once: !0 }))
                            : u();
                    } else t.removeEventListener("click", o.current);
                    r.current = !1;
                },
                i = window.setTimeout(() => {
                    t.addEventListener("pointerdown", s);
                }, 0);
            return () => {
                (window.clearTimeout(i),
                    t.removeEventListener("pointerdown", s),
                    t.removeEventListener("click", o.current));
            };
        }, [t, n]),
        { onPointerDownCapture: () => (r.current = !0) }
    );
}
function pc(e, t = globalThis == null ? void 0 : globalThis.document) {
    const n = ee(e),
        r = l.useRef(!1);
    return (
        l.useEffect(() => {
            const o = (s) => {
                s.target && !r.current && vo(lc, n, { originalEvent: s }, { discrete: !1 });
            };
            return (t.addEventListener("focusin", o), () => t.removeEventListener("focusin", o));
        }, [t, n]),
        {
            onFocusCapture: () => (r.current = !0),
            onBlurCapture: () => (r.current = !1),
        }
    );
}
function Hn() {
    const e = new CustomEvent(Ut);
    document.dispatchEvent(e);
}
function vo(e, t, n, { discrete: r }) {
    const o = n.originalEvent.target,
        s = new CustomEvent(e, { bubbles: !1, cancelable: !0, detail: n });
    (t && o.addEventListener(e, t, { once: !0 }), r ? ic(o, s) : o.dispatchEvent(s));
}
var Pt = 0;
function mc() {
    l.useEffect(() => {
        const e = document.querySelectorAll("[data-radix-focus-guard]");
        return (
            document.body.insertAdjacentElement("afterbegin", e[0] ?? Vn()),
            document.body.insertAdjacentElement("beforeend", e[1] ?? Vn()),
            Pt++,
            () => {
                (Pt === 1 && document.querySelectorAll("[data-radix-focus-guard]").forEach((t) => t.remove()), Pt--);
            }
        );
    }, []);
}
function Vn() {
    const e = document.createElement("span");
    return (
        e.setAttribute("data-radix-focus-guard", ""),
        (e.tabIndex = 0),
        (e.style.outline = "none"),
        (e.style.opacity = "0"),
        (e.style.position = "fixed"),
        (e.style.pointerEvents = "none"),
        e
    );
}
function Wn(e, t) {
    if (typeof e == "function") return e(t);
    e != null && (e.current = t);
}
function xo(...e) {
    return (t) => {
        let n = !1;
        const r = e.map((o) => {
            const s = Wn(o, t);
            return (!n && typeof s == "function" && (n = !0), s);
        });
        if (n)
            return () => {
                for (let o = 0; o < r.length; o++) {
                    const s = r[o];
                    typeof s == "function" ? s() : Wn(e[o], null);
                }
            };
    };
}
function hc(...e) {
    return l.useCallback(xo(...e), e);
}
var yo = l.forwardRef((e, t) => {
    const { children: n, ...r } = e,
        o = l.Children.toArray(n),
        s = o.find(vc);
    if (s) {
        const i = s.props.children,
            a = o.map((u) =>
                u === s
                    ? l.Children.count(i) > 1
                        ? l.Children.only(null)
                        : l.isValidElement(i)
                          ? i.props.children
                          : null
                    : u
            );
        return c.jsx(zt, {
            ...r,
            ref: t,
            children: l.isValidElement(i) ? l.cloneElement(i, void 0, a) : null,
        });
    }
    return c.jsx(zt, { ...r, ref: t, children: n });
});
yo.displayName = "Slot";
var zt = l.forwardRef((e, t) => {
    const { children: n, ...r } = e;
    if (l.isValidElement(n)) {
        const o = yc(n),
            s = xc(r, n.props);
        return (n.type !== l.Fragment && (s.ref = t ? xo(t, o) : o), l.cloneElement(n, s));
    }
    return l.Children.count(n) > 1 ? l.Children.only(null) : null;
});
zt.displayName = "SlotClone";
var gc = ({ children: e }) => c.jsx(c.Fragment, { children: e });
function vc(e) {
    return l.isValidElement(e) && e.type === gc;
}
function xc(e, t) {
    const n = { ...t };
    for (const r in t) {
        const o = e[r],
            s = t[r];
        /^on[A-Z]/.test(r)
            ? o && s
                ? (n[r] = (...a) => {
                      (s(...a), o(...a));
                  })
                : o && (n[r] = o)
            : r === "style"
              ? (n[r] = { ...o, ...s })
              : r === "className" && (n[r] = [o, s].filter(Boolean).join(" "));
    }
    return { ...e, ...n };
}
function yc(e) {
    var r, o;
    let t = (r = Object.getOwnPropertyDescriptor(e.props, "ref")) == null ? void 0 : r.get,
        n = t && "isReactWarning" in t && t.isReactWarning;
    return n
        ? e.ref
        : ((t = (o = Object.getOwnPropertyDescriptor(e, "ref")) == null ? void 0 : o.get),
          (n = t && "isReactWarning" in t && t.isReactWarning),
          n ? e.props.ref : e.props.ref || e.ref);
}
var bc = [
        "a",
        "button",
        "div",
        "form",
        "h2",
        "h3",
        "img",
        "input",
        "label",
        "li",
        "nav",
        "ol",
        "p",
        "span",
        "svg",
        "ul",
    ],
    wc = bc.reduce((e, t) => {
        const n = l.forwardRef((r, o) => {
            const { asChild: s, ...i } = r,
                a = s ? yo : t;
            return (typeof window < "u" && (window[Symbol.for("radix-ui")] = !0), c.jsx(a, { ...i, ref: o }));
        });
        return ((n.displayName = `Primitive.${t}`), { ...e, [t]: n });
    }, {}),
    jt = "focusScope.autoFocusOnMount",
    St = "focusScope.autoFocusOnUnmount",
    Un = { bubbles: !1, cancelable: !0 },
    Cc = "FocusScope",
    bo = l.forwardRef((e, t) => {
        const { loop: n = !1, trapped: r = !1, onMountAutoFocus: o, onUnmountAutoFocus: s, ...i } = e,
            [a, u] = l.useState(null),
            d = ee(o),
            f = ee(s),
            m = l.useRef(null),
            p = hc(t, (h) => u(h)),
            g = l.useRef({
                paused: !1,
                pause() {
                    this.paused = !0;
                },
                resume() {
                    this.paused = !1;
                },
            }).current;
        (l.useEffect(() => {
            if (r) {
                let h = function (w) {
                        if (g.paused || !a) return;
                        const C = w.target;
                        a.contains(C) ? (m.current = C) : oe(m.current, { select: !0 });
                    },
                    x = function (w) {
                        if (g.paused || !a) return;
                        const C = w.relatedTarget;
                        C !== null && (a.contains(C) || oe(m.current, { select: !0 }));
                    },
                    y = function (w) {
                        if (document.activeElement === document.body)
                            for (const E of w) E.removedNodes.length > 0 && oe(a);
                    };
                (document.addEventListener("focusin", h), document.addEventListener("focusout", x));
                const b = new MutationObserver(y);
                return (
                    a && b.observe(a, { childList: !0, subtree: !0 }),
                    () => {
                        (document.removeEventListener("focusin", h),
                            document.removeEventListener("focusout", x),
                            b.disconnect());
                    }
                );
            }
        }, [r, a, g.paused]),
            l.useEffect(() => {
                if (a) {
                    Yn.add(g);
                    const h = document.activeElement;
                    if (!a.contains(h)) {
                        const y = new CustomEvent(jt, Un);
                        (a.addEventListener(jt, d),
                            a.dispatchEvent(y),
                            y.defaultPrevented ||
                                (Ec(Rc(wo(a)), { select: !0 }), document.activeElement === h && oe(a)));
                    }
                    return () => {
                        (a.removeEventListener(jt, d),
                            setTimeout(() => {
                                const y = new CustomEvent(St, Un);
                                (a.addEventListener(St, f),
                                    a.dispatchEvent(y),
                                    y.defaultPrevented || oe(h ?? document.body, { select: !0 }),
                                    a.removeEventListener(St, f),
                                    Yn.remove(g));
                            }, 0));
                    };
                }
            }, [a, d, f, g]));
        const v = l.useCallback(
            (h) => {
                if ((!n && !r) || g.paused) return;
                const x = h.key === "Tab" && !h.altKey && !h.ctrlKey && !h.metaKey,
                    y = document.activeElement;
                if (x && y) {
                    const b = h.currentTarget,
                        [w, C] = Nc(b);
                    w && C
                        ? !h.shiftKey && y === C
                            ? (h.preventDefault(), n && oe(w, { select: !0 }))
                            : h.shiftKey && y === w && (h.preventDefault(), n && oe(C, { select: !0 }))
                        : y === b && h.preventDefault();
                }
            },
            [n, r, g.paused]
        );
        return c.jsx(wc.div, { tabIndex: -1, ...i, ref: p, onKeyDown: v });
    });
bo.displayName = Cc;
function Ec(e, { select: t = !1 } = {}) {
    const n = document.activeElement;
    for (const r of e) if ((oe(r, { select: t }), document.activeElement !== n)) return;
}
function Nc(e) {
    const t = wo(e),
        n = zn(t, e),
        r = zn(t.reverse(), e);
    return [n, r];
}
function wo(e) {
    const t = [],
        n = document.createTreeWalker(e, NodeFilter.SHOW_ELEMENT, {
            acceptNode: (r) => {
                const o = r.tagName === "INPUT" && r.type === "hidden";
                return r.disabled || r.hidden || o
                    ? NodeFilter.FILTER_SKIP
                    : r.tabIndex >= 0
                      ? NodeFilter.FILTER_ACCEPT
                      : NodeFilter.FILTER_SKIP;
            },
        });
    for (; n.nextNode(); ) t.push(n.currentNode);
    return t;
}
function zn(e, t) {
    for (const n of e) if (!Pc(n, { upTo: t })) return n;
}
function Pc(e, { upTo: t }) {
    if (getComputedStyle(e).visibility === "hidden") return !0;
    for (; e; ) {
        if (t !== void 0 && e === t) return !1;
        if (getComputedStyle(e).display === "none") return !0;
        e = e.parentElement;
    }
    return !1;
}
function jc(e) {
    return e instanceof HTMLInputElement && "select" in e;
}
function oe(e, { select: t = !1 } = {}) {
    if (e && e.focus) {
        const n = document.activeElement;
        (e.focus({ preventScroll: !0 }), e !== n && jc(e) && t && e.select());
    }
}
var Yn = Sc();
function Sc() {
    let e = [];
    return {
        add(t) {
            const n = e[0];
            (t !== n && (n == null || n.pause()), (e = Xn(e, t)), e.unshift(t));
        },
        remove(t) {
            var n;
            ((e = Xn(e, t)), (n = e[0]) == null || n.resume());
        },
    };
}
function Xn(e, t) {
    const n = [...e],
        r = n.indexOf(t);
    return (r !== -1 && n.splice(r, 1), n);
}
function Rc(e) {
    return e.filter((t) => t.tagName !== "A");
}
var Ac = "Arrow",
    Co = l.forwardRef((e, t) => {
        const { children: n, width: r = 10, height: o = 5, ...s } = e;
        return c.jsx(le.svg, {
            ...s,
            ref: t,
            width: r,
            height: o,
            viewBox: "0 0 30 10",
            preserveAspectRatio: "none",
            children: e.asChild ? n : c.jsx("polygon", { points: "0,0 30,0 15,10" }),
        });
    });
Co.displayName = Ac;
var Tc = Co,
    hn = "Popper",
    [Eo, No] = mo(hn),
    [Oc, Po] = Eo(hn),
    jo = (e) => {
        const { __scopePopper: t, children: n } = e,
            [r, o] = l.useState(null);
        return c.jsx(Oc, { scope: t, anchor: r, onAnchorChange: o, children: n });
    };
jo.displayName = hn;
var So = "PopperAnchor",
    Ro = l.forwardRef((e, t) => {
        const { __scopePopper: n, virtualRef: r, ...o } = e,
            s = Po(So, n),
            i = l.useRef(null),
            a = ve(t, i);
        return (
            l.useEffect(() => {
                s.onAnchorChange((r == null ? void 0 : r.current) || i.current);
            }),
            r ? null : c.jsx(le.div, { ...o, ref: a })
        );
    });
Ro.displayName = So;
var gn = "PopperContent",
    [kc, Dc] = Eo(gn),
    Ao = l.forwardRef((e, t) => {
        var Te, Oe, ke, De, Le, Me;
        const {
                __scopePopper: n,
                side: r = "bottom",
                sideOffset: o = 0,
                align: s = "center",
                alignOffset: i = 0,
                arrowPadding: a = 0,
                avoidCollisions: u = !0,
                collisionBoundary: d = [],
                collisionPadding: f = 0,
                sticky: m = "partial",
                hideWhenDetached: p = !1,
                updatePositionStrategy: g = "optimized",
                onPlaced: v,
                ...h
            } = e,
            x = Po(gn, n),
            [y, b] = l.useState(null),
            w = ve(t, (U) => b(U)),
            [C, E] = l.useState(null),
            P = ir(C),
            N = (P == null ? void 0 : P.width) ?? 0,
            S = (P == null ? void 0 : P.height) ?? 0,
            O = r + (s !== "center" ? "-" + s : ""),
            A = typeof f == "number" ? f : { top: 0, right: 0, bottom: 0, left: 0, ...f },
            I = Array.isArray(d) ? d : [d],
            k = I.length > 0,
            F = { padding: A, boundary: I.filter(Mc), altBoundary: k },
            {
                refs: L,
                floatingStyles: T,
                placement: _,
                isPositioned: R,
                middlewareData: M,
            } = Ar({
                strategy: "fixed",
                placement: O,
                whileElementsMounted: (...U) => Sr(...U, { animationFrame: g === "always" }),
                elements: { reference: x.anchor },
                middleware: [
                    Tr({ mainAxis: o + S, alignmentAxis: i }),
                    u &&
                        Or({
                            mainAxis: !0,
                            crossAxis: !1,
                            limiter: m === "partial" ? kr() : void 0,
                            ...F,
                        }),
                    u && Dr({ ...F }),
                    Lr({
                        ...F,
                        apply: ({ elements: U, rects: Fe, availableWidth: bt, availableHeight: wt }) => {
                            const { width: Ct, height: Et } = Fe.reference,
                                Q = U.floating.style;
                            (Q.setProperty("--radix-popper-available-width", `${bt}px`),
                                Q.setProperty("--radix-popper-available-height", `${wt}px`),
                                Q.setProperty("--radix-popper-anchor-width", `${Ct}px`),
                                Q.setProperty("--radix-popper-anchor-height", `${Et}px`));
                        },
                    }),
                    C && Fr({ element: C, padding: a }),
                    Fc({ arrowWidth: N, arrowHeight: S }),
                    p && Mr({ strategy: "referenceHidden", ...F }),
                ],
            }),
            [V, mt] = ko(_),
            Z = ee(v);
        fe(() => {
            R && (Z == null || Z());
        }, [R, Z]);
        const ht = (Te = M.arrow) == null ? void 0 : Te.x,
            gt = (Oe = M.arrow) == null ? void 0 : Oe.y,
            vt = ((ke = M.arrow) == null ? void 0 : ke.centerOffset) !== 0,
            [xt, yt] = l.useState();
        return (
            fe(() => {
                y && yt(window.getComputedStyle(y).zIndex);
            }, [y]),
            c.jsx("div", {
                ref: L.setFloating,
                "data-radix-popper-content-wrapper": "",
                style: {
                    ...T,
                    transform: R ? T.transform : "translate(0, -200%)",
                    minWidth: "max-content",
                    zIndex: xt,
                    "--radix-popper-transform-origin": [
                        (De = M.transformOrigin) == null ? void 0 : De.x,
                        (Le = M.transformOrigin) == null ? void 0 : Le.y,
                    ].join(" "),
                    ...(((Me = M.hide) == null ? void 0 : Me.referenceHidden) && {
                        visibility: "hidden",
                        pointerEvents: "none",
                    }),
                },
                dir: e.dir,
                children: c.jsx(kc, {
                    scope: n,
                    placedSide: V,
                    onArrowChange: E,
                    arrowX: ht,
                    arrowY: gt,
                    shouldHideArrow: vt,
                    children: c.jsx(le.div, {
                        "data-side": V,
                        "data-align": mt,
                        ...h,
                        ref: w,
                        style: { ...h.style, animation: R ? void 0 : "none" },
                    }),
                }),
            })
        );
    });
Ao.displayName = gn;
var To = "PopperArrow",
    Lc = { top: "bottom", right: "left", bottom: "top", left: "right" },
    Oo = l.forwardRef(function (t, n) {
        const { __scopePopper: r, ...o } = t,
            s = Dc(To, r),
            i = Lc[s.placedSide];
        return c.jsx("span", {
            ref: s.onArrowChange,
            style: {
                position: "absolute",
                left: s.arrowX,
                top: s.arrowY,
                [i]: 0,
                transformOrigin: {
                    top: "",
                    right: "0 0",
                    bottom: "center 0",
                    left: "100% 0",
                }[s.placedSide],
                transform: {
                    top: "translateY(100%)",
                    right: "translateY(50%) rotate(90deg) translateX(-50%)",
                    bottom: "rotate(180deg)",
                    left: "translateY(50%) rotate(-90deg) translateX(50%)",
                }[s.placedSide],
                visibility: s.shouldHideArrow ? "hidden" : void 0,
            },
            children: c.jsx(Tc, {
                ...o,
                ref: n,
                style: { ...o.style, display: "block" },
            }),
        });
    });
Oo.displayName = To;
function Mc(e) {
    return e !== null;
}
var Fc = (e) => ({
    name: "transformOrigin",
    options: e,
    fn(t) {
        var x, y, b;
        const { placement: n, rects: r, middlewareData: o } = t,
            i = ((x = o.arrow) == null ? void 0 : x.centerOffset) !== 0,
            a = i ? 0 : e.arrowWidth,
            u = i ? 0 : e.arrowHeight,
            [d, f] = ko(n),
            m = { start: "0%", center: "50%", end: "100%" }[f],
            p = (((y = o.arrow) == null ? void 0 : y.x) ?? 0) + a / 2,
            g = (((b = o.arrow) == null ? void 0 : b.y) ?? 0) + u / 2;
        let v = "",
            h = "";
        return (
            d === "bottom"
                ? ((v = i ? m : `${p}px`), (h = `${-u}px`))
                : d === "top"
                  ? ((v = i ? m : `${p}px`), (h = `${r.floating.height + u}px`))
                  : d === "right"
                    ? ((v = `${-u}px`), (h = i ? m : `${g}px`))
                    : d === "left" && ((v = `${r.floating.width + u}px`), (h = i ? m : `${g}px`)),
            { data: { x: v, y: h } }
        );
    },
});
function ko(e) {
    const [t, n = "center"] = e.split("-");
    return [t, n];
}
var Ic = jo,
    Do = Ro,
    _c = Ao,
    $c = Oo,
    Bc = "Portal",
    Lo = l.forwardRef((e, t) => {
        var a;
        const { container: n, ...r } = e,
            [o, s] = l.useState(!1);
        fe(() => s(!0), []);
        const i = n || (o && ((a = globalThis == null ? void 0 : globalThis.document) == null ? void 0 : a.body));
        return i ? Es.createPortal(c.jsx(le.div, { ...r, ref: t }), i) : null;
    });
Lo.displayName = Bc;
function Hc(e, t) {
    return l.useReducer((n, r) => t[n][r] ?? n, e);
}
var vn = (e) => {
    const { present: t, children: n } = e,
        r = Vc(t),
        o = typeof n == "function" ? n({ present: r.isPresent }) : l.Children.only(n),
        s = ve(r.ref, Wc(o));
    return typeof n == "function" || r.isPresent ? l.cloneElement(o, { ref: s }) : null;
};
vn.displayName = "Presence";
function Vc(e) {
    const [t, n] = l.useState(),
        r = l.useRef({}),
        o = l.useRef(e),
        s = l.useRef("none"),
        i = e ? "mounted" : "unmounted",
        [a, u] = Hc(i, {
            mounted: { UNMOUNT: "unmounted", ANIMATION_OUT: "unmountSuspended" },
            unmountSuspended: { MOUNT: "mounted", ANIMATION_END: "unmounted" },
            unmounted: { MOUNT: "mounted" },
        });
    return (
        l.useEffect(() => {
            const d = Ye(r.current);
            s.current = a === "mounted" ? d : "none";
        }, [a]),
        fe(() => {
            const d = r.current,
                f = o.current;
            if (f !== e) {
                const p = s.current,
                    g = Ye(d);
                (e
                    ? u("MOUNT")
                    : g === "none" || (d == null ? void 0 : d.display) === "none"
                      ? u("UNMOUNT")
                      : u(f && p !== g ? "ANIMATION_OUT" : "UNMOUNT"),
                    (o.current = e));
            }
        }, [e, u]),
        fe(() => {
            if (t) {
                let d;
                const f = t.ownerDocument.defaultView ?? window,
                    m = (g) => {
                        const h = Ye(r.current).includes(g.animationName);
                        if (g.target === t && h && (u("ANIMATION_END"), !o.current)) {
                            const x = t.style.animationFillMode;
                            ((t.style.animationFillMode = "forwards"),
                                (d = f.setTimeout(() => {
                                    t.style.animationFillMode === "forwards" && (t.style.animationFillMode = x);
                                })));
                        }
                    },
                    p = (g) => {
                        g.target === t && (s.current = Ye(r.current));
                    };
                return (
                    t.addEventListener("animationstart", p),
                    t.addEventListener("animationcancel", m),
                    t.addEventListener("animationend", m),
                    () => {
                        (f.clearTimeout(d),
                            t.removeEventListener("animationstart", p),
                            t.removeEventListener("animationcancel", m),
                            t.removeEventListener("animationend", m));
                    }
                );
            } else u("ANIMATION_END");
        }, [t, u]),
        {
            isPresent: ["mounted", "unmountSuspended"].includes(a),
            ref: l.useCallback((d) => {
                (d && (r.current = getComputedStyle(d)), n(d));
            }, []),
        }
    );
}
function Ye(e) {
    return (e == null ? void 0 : e.animationName) || "none";
}
function Wc(e) {
    var r, o;
    let t = (r = Object.getOwnPropertyDescriptor(e.props, "ref")) == null ? void 0 : r.get,
        n = t && "isReactWarning" in t && t.isReactWarning;
    return n
        ? e.ref
        : ((t = (o = Object.getOwnPropertyDescriptor(e, "ref")) == null ? void 0 : o.get),
          (n = t && "isReactWarning" in t && t.isReactWarning),
          n ? e.props.ref : e.props.ref || e.ref);
}
var Uc = function (e) {
        if (typeof document > "u") return null;
        var t = Array.isArray(e) ? e[0] : e;
        return t.ownerDocument.body;
    },
    xe = new WeakMap(),
    Xe = new WeakMap(),
    qe = {},
    Rt = 0,
    Mo = function (e) {
        return e && (e.host || Mo(e.parentNode));
    },
    zc = function (e, t) {
        return t
            .map(function (n) {
                if (e.contains(n)) return n;
                var r = Mo(n);
                return r && e.contains(r)
                    ? r
                    : (console.error("aria-hidden", n, "in not contained inside", e, ". Doing nothing"), null);
            })
            .filter(function (n) {
                return !!n;
            });
    },
    Yc = function (e, t, n, r) {
        var o = zc(t, Array.isArray(e) ? e : [e]);
        qe[n] || (qe[n] = new WeakMap());
        var s = qe[n],
            i = [],
            a = new Set(),
            u = new Set(o),
            d = function (m) {
                !m || a.has(m) || (a.add(m), d(m.parentNode));
            };
        o.forEach(d);
        var f = function (m) {
            !m ||
                u.has(m) ||
                Array.prototype.forEach.call(m.children, function (p) {
                    if (a.has(p)) f(p);
                    else
                        try {
                            var g = p.getAttribute(r),
                                v = g !== null && g !== "false",
                                h = (xe.get(p) || 0) + 1,
                                x = (s.get(p) || 0) + 1;
                            (xe.set(p, h),
                                s.set(p, x),
                                i.push(p),
                                h === 1 && v && Xe.set(p, !0),
                                x === 1 && p.setAttribute(n, "true"),
                                v || p.setAttribute(r, "true"));
                        } catch (y) {
                            console.error("aria-hidden: cannot operate on ", p, y);
                        }
                });
        };
        return (
            f(t),
            a.clear(),
            Rt++,
            function () {
                (i.forEach(function (m) {
                    var p = xe.get(m) - 1,
                        g = s.get(m) - 1;
                    (xe.set(m, p),
                        s.set(m, g),
                        p || (Xe.has(m) || m.removeAttribute(r), Xe.delete(m)),
                        g || m.removeAttribute(n));
                }),
                    Rt--,
                    Rt || ((xe = new WeakMap()), (xe = new WeakMap()), (Xe = new WeakMap()), (qe = {})));
            }
        );
    },
    Xc = function (e, t, n) {
        n === void 0 && (n = "data-aria-hidden");
        var r = Array.from(Array.isArray(e) ? e : [e]),
            o = Uc(e);
        return o
            ? (r.push.apply(r, Array.from(o.querySelectorAll("[aria-live]"))), Yc(r, o, n, "aria-hidden"))
            : function () {
                  return null;
              };
    },
    et = "right-scroll-bar-position",
    tt = "width-before-scroll-bar",
    qc = "with-scroll-bars-hidden",
    Gc = "--removed-body-scroll-bar-size";
function At(e, t) {
    return (typeof e == "function" ? e(t) : e && (e.current = t), e);
}
function Kc(e, t) {
    var n = l.useState(function () {
        return {
            value: e,
            callback: t,
            facade: {
                get current() {
                    return n.value;
                },
                set current(r) {
                    var o = n.value;
                    o !== r && ((n.value = r), n.callback(r, o));
                },
            },
        };
    })[0];
    return ((n.callback = t), n.facade);
}
var Zc = typeof window < "u" ? l.useLayoutEffect : l.useEffect,
    qn = new WeakMap();
function Qc(e, t) {
    var n = Kc(null, function (r) {
        return e.forEach(function (o) {
            return At(o, r);
        });
    });
    return (
        Zc(
            function () {
                var r = qn.get(n);
                if (r) {
                    var o = new Set(r),
                        s = new Set(e),
                        i = n.current;
                    (o.forEach(function (a) {
                        s.has(a) || At(a, null);
                    }),
                        s.forEach(function (a) {
                            o.has(a) || At(a, i);
                        }));
                }
                qn.set(n, e);
            },
            [e]
        ),
        n
    );
}
function Jc(e) {
    return e;
}
function el(e, t) {
    t === void 0 && (t = Jc);
    var n = [],
        r = !1,
        o = {
            read: function () {
                if (r)
                    throw new Error(
                        "Sidecar: could not `read` from an `assigned` medium. `read` could be used only with `useMedium`."
                    );
                return n.length ? n[n.length - 1] : e;
            },
            useMedium: function (s) {
                var i = t(s, r);
                return (
                    n.push(i),
                    function () {
                        n = n.filter(function (a) {
                            return a !== i;
                        });
                    }
                );
            },
            assignSyncMedium: function (s) {
                for (r = !0; n.length; ) {
                    var i = n;
                    ((n = []), i.forEach(s));
                }
                n = {
                    push: function (a) {
                        return s(a);
                    },
                    filter: function () {
                        return n;
                    },
                };
            },
            assignMedium: function (s) {
                r = !0;
                var i = [];
                if (n.length) {
                    var a = n;
                    ((n = []), a.forEach(s), (i = n));
                }
                var u = function () {
                        var f = i;
                        ((i = []), f.forEach(s));
                    },
                    d = function () {
                        return Promise.resolve().then(u);
                    };
                (d(),
                    (n = {
                        push: function (f) {
                            (i.push(f), d());
                        },
                        filter: function (f) {
                            return ((i = i.filter(f)), n);
                        },
                    }));
            },
        };
    return o;
}
function tl(e) {
    e === void 0 && (e = {});
    var t = el(null);
    return ((t.options = Y({ async: !0, ssr: !1 }, e)), t);
}
var Fo = function (e) {
    var t = e.sideCar,
        n = fr(e, ["sideCar"]);
    if (!t) throw new Error("Sidecar: please provide `sideCar` property to import the right car");
    var r = t.read();
    if (!r) throw new Error("Sidecar medium not found");
    return l.createElement(r, Y({}, n));
};
Fo.isSideCarExport = !0;
function nl(e, t) {
    return (e.useMedium(t), Fo);
}
var Io = tl(),
    Tt = function () {},
    pt = l.forwardRef(function (e, t) {
        var n = l.useRef(null),
            r = l.useState({
                onScrollCapture: Tt,
                onWheelCapture: Tt,
                onTouchMoveCapture: Tt,
            }),
            o = r[0],
            s = r[1],
            i = e.forwardProps,
            a = e.children,
            u = e.className,
            d = e.removeScrollBar,
            f = e.enabled,
            m = e.shards,
            p = e.sideCar,
            g = e.noIsolation,
            v = e.inert,
            h = e.allowPinchZoom,
            x = e.as,
            y = x === void 0 ? "div" : x,
            b = e.gapMode,
            w = fr(e, [
                "forwardProps",
                "children",
                "className",
                "removeScrollBar",
                "enabled",
                "shards",
                "sideCar",
                "noIsolation",
                "inert",
                "allowPinchZoom",
                "as",
                "gapMode",
            ]),
            C = p,
            E = Qc([n, t]),
            P = Y(Y({}, w), o);
        return l.createElement(
            l.Fragment,
            null,
            f &&
                l.createElement(C, {
                    sideCar: Io,
                    removeScrollBar: d,
                    shards: m,
                    noIsolation: g,
                    inert: v,
                    setCallbacks: s,
                    allowPinchZoom: !!h,
                    lockRef: n,
                    gapMode: b,
                }),
            i
                ? l.cloneElement(l.Children.only(a), Y(Y({}, P), { ref: E }))
                : l.createElement(y, Y({}, P, { className: u, ref: E }), a)
        );
    });
pt.defaultProps = { enabled: !0, removeScrollBar: !0, inert: !1 };
pt.classNames = { fullWidth: tt, zeroRight: et };
var rl = function () {
    if (typeof __webpack_nonce__ < "u") return __webpack_nonce__;
};
function ol() {
    if (!document) return null;
    var e = document.createElement("style");
    e.type = "text/css";
    var t = rl();
    return (t && e.setAttribute("nonce", t), e);
}
function sl(e, t) {
    e.styleSheet ? (e.styleSheet.cssText = t) : e.appendChild(document.createTextNode(t));
}
function il(e) {
    var t = document.head || document.getElementsByTagName("head")[0];
    t.appendChild(e);
}
var al = function () {
        var e = 0,
            t = null;
        return {
            add: function (n) {
                (e == 0 && (t = ol()) && (sl(t, n), il(t)), e++);
            },
            remove: function () {
                (e--, !e && t && (t.parentNode && t.parentNode.removeChild(t), (t = null)));
            },
        };
    },
    cl = function () {
        var e = al();
        return function (t, n) {
            l.useEffect(
                function () {
                    return (
                        e.add(t),
                        function () {
                            e.remove();
                        }
                    );
                },
                [t && n]
            );
        };
    },
    _o = function () {
        var e = cl(),
            t = function (n) {
                var r = n.styles,
                    o = n.dynamic;
                return (e(r, o), null);
            };
        return t;
    },
    ll = { left: 0, top: 0, right: 0, gap: 0 },
    Ot = function (e) {
        return parseInt(e || "", 10) || 0;
    },
    ul = function (e) {
        var t = window.getComputedStyle(document.body),
            n = t[e === "padding" ? "paddingLeft" : "marginLeft"],
            r = t[e === "padding" ? "paddingTop" : "marginTop"],
            o = t[e === "padding" ? "paddingRight" : "marginRight"];
        return [Ot(n), Ot(r), Ot(o)];
    },
    dl = function (e) {
        if ((e === void 0 && (e = "margin"), typeof window > "u")) return ll;
        var t = ul(e),
            n = document.documentElement.clientWidth,
            r = window.innerWidth;
        return {
            left: t[0],
            top: t[1],
            right: t[2],
            gap: Math.max(0, r - n + t[2] - t[0]),
        };
    },
    fl = _o(),
    Ce = "data-scroll-locked",
    pl = function (e, t, n, r) {
        var o = e.left,
            s = e.top,
            i = e.right,
            a = e.gap;
        return (
            n === void 0 && (n = "margin"),
            `
  .`
                .concat(
                    qc,
                    ` {
   overflow: hidden `
                )
                .concat(
                    r,
                    `;
   padding-right: `
                )
                .concat(a, "px ")
                .concat(
                    r,
                    `;
  }
  body[`
                )
                .concat(
                    Ce,
                    `] {
    overflow: hidden `
                )
                .concat(
                    r,
                    `;
    overscroll-behavior: contain;
    `
                )
                .concat(
                    [
                        t && "position: relative ".concat(r, ";"),
                        n === "margin" &&
                            `
    padding-left: `
                                .concat(
                                    o,
                                    `px;
    padding-top: `
                                )
                                .concat(
                                    s,
                                    `px;
    padding-right: `
                                )
                                .concat(
                                    i,
                                    `px;
    margin-left:0;
    margin-top:0;
    margin-right: `
                                )
                                .concat(a, "px ")
                                .concat(
                                    r,
                                    `;
    `
                                ),
                        n === "padding" && "padding-right: ".concat(a, "px ").concat(r, ";"),
                    ]
                        .filter(Boolean)
                        .join(""),
                    `
  }

  .`
                )
                .concat(
                    et,
                    ` {
    right: `
                )
                .concat(a, "px ")
                .concat(
                    r,
                    `;
  }

  .`
                )
                .concat(
                    tt,
                    ` {
    margin-right: `
                )
                .concat(a, "px ")
                .concat(
                    r,
                    `;
  }

  .`
                )
                .concat(et, " .")
                .concat(
                    et,
                    ` {
    right: 0 `
                )
                .concat(
                    r,
                    `;
  }

  .`
                )
                .concat(tt, " .")
                .concat(
                    tt,
                    ` {
    margin-right: 0 `
                )
                .concat(
                    r,
                    `;
  }

  body[`
                )
                .concat(
                    Ce,
                    `] {
    `
                )
                .concat(Gc, ": ")
                .concat(
                    a,
                    `px;
  }
`
                )
        );
    },
    Gn = function () {
        var e = parseInt(document.body.getAttribute(Ce) || "0", 10);
        return isFinite(e) ? e : 0;
    },
    ml = function () {
        l.useEffect(function () {
            return (
                document.body.setAttribute(Ce, (Gn() + 1).toString()),
                function () {
                    var e = Gn() - 1;
                    e <= 0 ? document.body.removeAttribute(Ce) : document.body.setAttribute(Ce, e.toString());
                }
            );
        }, []);
    },
    hl = function (e) {
        var t = e.noRelative,
            n = e.noImportant,
            r = e.gapMode,
            o = r === void 0 ? "margin" : r;
        ml();
        var s = l.useMemo(
            function () {
                return dl(o);
            },
            [o]
        );
        return l.createElement(fl, { styles: pl(s, !t, o, n ? "" : "!important") });
    },
    Yt = !1;
if (typeof window < "u")
    try {
        var Ge = Object.defineProperty({}, "passive", {
            get: function () {
                return ((Yt = !0), !0);
            },
        });
        (window.addEventListener("test", Ge, Ge), window.removeEventListener("test", Ge, Ge));
    } catch {
        Yt = !1;
    }
var ye = Yt ? { passive: !1 } : !1,
    gl = function (e) {
        return e.tagName === "TEXTAREA";
    },
    $o = function (e, t) {
        if (!(e instanceof Element)) return !1;
        var n = window.getComputedStyle(e);
        return n[t] !== "hidden" && !(n.overflowY === n.overflowX && !gl(e) && n[t] === "visible");
    },
    vl = function (e) {
        return $o(e, "overflowY");
    },
    xl = function (e) {
        return $o(e, "overflowX");
    },
    Kn = function (e, t) {
        var n = t.ownerDocument,
            r = t;
        do {
            typeof ShadowRoot < "u" && r instanceof ShadowRoot && (r = r.host);
            var o = Bo(e, r);
            if (o) {
                var s = Ho(e, r),
                    i = s[1],
                    a = s[2];
                if (i > a) return !0;
            }
            r = r.parentNode;
        } while (r && r !== n.body);
        return !1;
    },
    yl = function (e) {
        var t = e.scrollTop,
            n = e.scrollHeight,
            r = e.clientHeight;
        return [t, n, r];
    },
    bl = function (e) {
        var t = e.scrollLeft,
            n = e.scrollWidth,
            r = e.clientWidth;
        return [t, n, r];
    },
    Bo = function (e, t) {
        return e === "v" ? vl(t) : xl(t);
    },
    Ho = function (e, t) {
        return e === "v" ? yl(t) : bl(t);
    },
    wl = function (e, t) {
        return e === "h" && t === "rtl" ? -1 : 1;
    },
    Cl = function (e, t, n, r, o) {
        var s = wl(e, window.getComputedStyle(t).direction),
            i = s * r,
            a = n.target,
            u = t.contains(a),
            d = !1,
            f = i > 0,
            m = 0,
            p = 0;
        do {
            var g = Ho(e, a),
                v = g[0],
                h = g[1],
                x = g[2],
                y = h - x - s * v;
            ((v || y) && Bo(e, a) && ((m += y), (p += v)), a instanceof ShadowRoot ? (a = a.host) : (a = a.parentNode));
        } while ((!u && a !== document.body) || (u && (t.contains(a) || t === a)));
        return (((f && (Math.abs(m) < 1 || !o)) || (!f && (Math.abs(p) < 1 || !o))) && (d = !0), d);
    },
    Ke = function (e) {
        return "changedTouches" in e ? [e.changedTouches[0].clientX, e.changedTouches[0].clientY] : [0, 0];
    },
    Zn = function (e) {
        return [e.deltaX, e.deltaY];
    },
    Qn = function (e) {
        return e && "current" in e ? e.current : e;
    },
    El = function (e, t) {
        return e[0] === t[0] && e[1] === t[1];
    },
    Nl = function (e) {
        return `
  .block-interactivity-`
            .concat(
                e,
                ` {pointer-events: none;}
  .allow-interactivity-`
            )
            .concat(
                e,
                ` {pointer-events: all;}
`
            );
    },
    Pl = 0,
    be = [];
function jl(e) {
    var t = l.useRef([]),
        n = l.useRef([0, 0]),
        r = l.useRef(),
        o = l.useState(Pl++)[0],
        s = l.useState(_o)[0],
        i = l.useRef(e);
    (l.useEffect(
        function () {
            i.current = e;
        },
        [e]
    ),
        l.useEffect(
            function () {
                if (e.inert) {
                    document.body.classList.add("block-interactivity-".concat(o));
                    var h = ei([e.lockRef.current], (e.shards || []).map(Qn), !0).filter(Boolean);
                    return (
                        h.forEach(function (x) {
                            return x.classList.add("allow-interactivity-".concat(o));
                        }),
                        function () {
                            (document.body.classList.remove("block-interactivity-".concat(o)),
                                h.forEach(function (x) {
                                    return x.classList.remove("allow-interactivity-".concat(o));
                                }));
                        }
                    );
                }
            },
            [e.inert, e.lockRef.current, e.shards]
        ));
    var a = l.useCallback(function (h, x) {
            if (("touches" in h && h.touches.length === 2) || (h.type === "wheel" && h.ctrlKey))
                return !i.current.allowPinchZoom;
            var y = Ke(h),
                b = n.current,
                w = "deltaX" in h ? h.deltaX : b[0] - y[0],
                C = "deltaY" in h ? h.deltaY : b[1] - y[1],
                E,
                P = h.target,
                N = Math.abs(w) > Math.abs(C) ? "h" : "v";
            if ("touches" in h && N === "h" && P.type === "range") return !1;
            var S = Kn(N, P);
            if (!S) return !0;
            if ((S ? (E = N) : ((E = N === "v" ? "h" : "v"), (S = Kn(N, P))), !S)) return !1;
            if ((!r.current && "changedTouches" in h && (w || C) && (r.current = E), !E)) return !0;
            var O = r.current || E;
            return Cl(O, x, h, O === "h" ? w : C, !0);
        }, []),
        u = l.useCallback(function (h) {
            var x = h;
            if (!(!be.length || be[be.length - 1] !== s)) {
                var y = "deltaY" in x ? Zn(x) : Ke(x),
                    b = t.current.filter(function (E) {
                        return (
                            E.name === x.type &&
                            (E.target === x.target || x.target === E.shadowParent) &&
                            El(E.delta, y)
                        );
                    })[0];
                if (b && b.should) {
                    x.cancelable && x.preventDefault();
                    return;
                }
                if (!b) {
                    var w = (i.current.shards || [])
                            .map(Qn)
                            .filter(Boolean)
                            .filter(function (E) {
                                return E.contains(x.target);
                            }),
                        C = w.length > 0 ? a(x, w[0]) : !i.current.noIsolation;
                    C && x.cancelable && x.preventDefault();
                }
            }
        }, []),
        d = l.useCallback(function (h, x, y, b) {
            var w = { name: h, delta: x, target: y, should: b, shadowParent: Sl(y) };
            (t.current.push(w),
                setTimeout(function () {
                    t.current = t.current.filter(function (C) {
                        return C !== w;
                    });
                }, 1));
        }, []),
        f = l.useCallback(function (h) {
            ((n.current = Ke(h)), (r.current = void 0));
        }, []),
        m = l.useCallback(function (h) {
            d(h.type, Zn(h), h.target, a(h, e.lockRef.current));
        }, []),
        p = l.useCallback(function (h) {
            d(h.type, Ke(h), h.target, a(h, e.lockRef.current));
        }, []);
    l.useEffect(function () {
        return (
            be.push(s),
            e.setCallbacks({
                onScrollCapture: m,
                onWheelCapture: m,
                onTouchMoveCapture: p,
            }),
            document.addEventListener("wheel", u, ye),
            document.addEventListener("touchmove", u, ye),
            document.addEventListener("touchstart", f, ye),
            function () {
                ((be = be.filter(function (h) {
                    return h !== s;
                })),
                    document.removeEventListener("wheel", u, ye),
                    document.removeEventListener("touchmove", u, ye),
                    document.removeEventListener("touchstart", f, ye));
            }
        );
    }, []);
    var g = e.removeScrollBar,
        v = e.inert;
    return l.createElement(
        l.Fragment,
        null,
        v ? l.createElement(s, { styles: Nl(o) }) : null,
        g ? l.createElement(hl, { gapMode: e.gapMode }) : null
    );
}
function Sl(e) {
    for (var t = null; e !== null; ) (e instanceof ShadowRoot && ((t = e.host), (e = e.host)), (e = e.parentNode));
    return t;
}
const Rl = nl(Io, jl);
var Vo = l.forwardRef(function (e, t) {
    return l.createElement(pt, Y({}, e, { ref: t, sideCar: Rl }));
});
Vo.classNames = pt.classNames;
var xn = "Popover",
    [Wo, xu] = mo(xn, [No]),
    Ue = No(),
    [Al, ue] = Wo(xn),
    Uo = (e) => {
        const { __scopePopover: t, children: n, open: r, defaultOpen: o, onOpenChange: s, modal: i = !1 } = e,
            a = Ue(t),
            u = l.useRef(null),
            [d, f] = l.useState(!1),
            [m = !1, p] = cr({ prop: r, defaultProp: o, onChange: s });
        return c.jsx(Ic, {
            ...a,
            children: c.jsx(Al, {
                scope: t,
                contentId: ar(),
                triggerRef: u,
                open: m,
                onOpenChange: p,
                onOpenToggle: l.useCallback(() => p((g) => !g), [p]),
                hasCustomAnchor: d,
                onCustomAnchorAdd: l.useCallback(() => f(!0), []),
                onCustomAnchorRemove: l.useCallback(() => f(!1), []),
                modal: i,
                children: n,
            }),
        });
    };
Uo.displayName = xn;
var zo = "PopoverAnchor",
    Tl = l.forwardRef((e, t) => {
        const { __scopePopover: n, ...r } = e,
            o = ue(zo, n),
            s = Ue(n),
            { onCustomAnchorAdd: i, onCustomAnchorRemove: a } = o;
        return (l.useEffect(() => (i(), () => a()), [i, a]), c.jsx(Do, { ...s, ...r, ref: t }));
    });
Tl.displayName = zo;
var Yo = "PopoverTrigger",
    Xo = l.forwardRef((e, t) => {
        const { __scopePopover: n, ...r } = e,
            o = ue(Yo, n),
            s = Ue(n),
            i = ve(t, o.triggerRef),
            a = c.jsx(le.button, {
                type: "button",
                "aria-haspopup": "dialog",
                "aria-expanded": o.open,
                "aria-controls": o.contentId,
                "data-state": Qo(o.open),
                ...r,
                ref: i,
                onClick: ie(e.onClick, o.onOpenToggle),
            });
        return o.hasCustomAnchor ? a : c.jsx(Do, { asChild: !0, ...s, children: a });
    });
Xo.displayName = Yo;
var yn = "PopoverPortal",
    [Ol, kl] = Wo(yn, { forceMount: void 0 }),
    qo = (e) => {
        const { __scopePopover: t, forceMount: n, children: r, container: o } = e,
            s = ue(yn, t);
        return c.jsx(Ol, {
            scope: t,
            forceMount: n,
            children: c.jsx(vn, {
                present: n || s.open,
                children: c.jsx(Lo, { asChild: !0, container: o, children: r }),
            }),
        });
    };
qo.displayName = yn;
var Pe = "PopoverContent",
    Go = l.forwardRef((e, t) => {
        const n = kl(Pe, e.__scopePopover),
            { forceMount: r = n.forceMount, ...o } = e,
            s = ue(Pe, e.__scopePopover);
        return c.jsx(vn, {
            present: r || s.open,
            children: s.modal ? c.jsx(Dl, { ...o, ref: t }) : c.jsx(Ll, { ...o, ref: t }),
        });
    });
Go.displayName = Pe;
var Dl = l.forwardRef((e, t) => {
        const n = ue(Pe, e.__scopePopover),
            r = l.useRef(null),
            o = ve(t, r),
            s = l.useRef(!1);
        return (
            l.useEffect(() => {
                const i = r.current;
                if (i) return Xc(i);
            }, []),
            c.jsx(Vo, {
                as: mn,
                allowPinchZoom: !0,
                children: c.jsx(Ko, {
                    ...e,
                    ref: o,
                    trapFocus: n.open,
                    disableOutsidePointerEvents: !0,
                    onCloseAutoFocus: ie(e.onCloseAutoFocus, (i) => {
                        var a;
                        (i.preventDefault(), s.current || (a = n.triggerRef.current) == null || a.focus());
                    }),
                    onPointerDownOutside: ie(
                        e.onPointerDownOutside,
                        (i) => {
                            const a = i.detail.originalEvent,
                                u = a.button === 0 && a.ctrlKey === !0,
                                d = a.button === 2 || u;
                            s.current = d;
                        },
                        { checkForDefaultPrevented: !1 }
                    ),
                    onFocusOutside: ie(e.onFocusOutside, (i) => i.preventDefault(), {
                        checkForDefaultPrevented: !1,
                    }),
                }),
            })
        );
    }),
    Ll = l.forwardRef((e, t) => {
        const n = ue(Pe, e.__scopePopover),
            r = l.useRef(!1),
            o = l.useRef(!1);
        return c.jsx(Ko, {
            ...e,
            ref: t,
            trapFocus: !1,
            disableOutsidePointerEvents: !1,
            onCloseAutoFocus: (s) => {
                var i, a;
                ((i = e.onCloseAutoFocus) == null || i.call(e, s),
                    s.defaultPrevented ||
                        (r.current || (a = n.triggerRef.current) == null || a.focus(), s.preventDefault()),
                    (r.current = !1),
                    (o.current = !1));
            },
            onInteractOutside: (s) => {
                var u, d;
                ((u = e.onInteractOutside) == null || u.call(e, s),
                    s.defaultPrevented ||
                        ((r.current = !0), s.detail.originalEvent.type === "pointerdown" && (o.current = !0)));
                const i = s.target;
                (((d = n.triggerRef.current) == null ? void 0 : d.contains(i)) && s.preventDefault(),
                    s.detail.originalEvent.type === "focusin" && o.current && s.preventDefault());
            },
        });
    }),
    Ko = l.forwardRef((e, t) => {
        const {
                __scopePopover: n,
                trapFocus: r,
                onOpenAutoFocus: o,
                onCloseAutoFocus: s,
                disableOutsidePointerEvents: i,
                onEscapeKeyDown: a,
                onPointerDownOutside: u,
                onFocusOutside: d,
                onInteractOutside: f,
                ...m
            } = e,
            p = ue(Pe, n),
            g = Ue(n);
        return (
            mc(),
            c.jsx(bo, {
                asChild: !0,
                loop: !0,
                trapped: r,
                onMountAutoFocus: o,
                onUnmountAutoFocus: s,
                children: c.jsx(go, {
                    asChild: !0,
                    disableOutsidePointerEvents: i,
                    onInteractOutside: f,
                    onEscapeKeyDown: a,
                    onPointerDownOutside: u,
                    onFocusOutside: d,
                    onDismiss: () => p.onOpenChange(!1),
                    children: c.jsx(_c, {
                        "data-state": Qo(p.open),
                        role: "dialog",
                        id: p.contentId,
                        ...g,
                        ...m,
                        ref: t,
                        style: {
                            ...m.style,
                            "--radix-popover-content-transform-origin": "var(--radix-popper-transform-origin)",
                            "--radix-popover-content-available-width": "var(--radix-popper-available-width)",
                            "--radix-popover-content-available-height": "var(--radix-popper-available-height)",
                            "--radix-popover-trigger-width": "var(--radix-popper-anchor-width)",
                            "--radix-popover-trigger-height": "var(--radix-popper-anchor-height)",
                        },
                    }),
                }),
            })
        );
    }),
    Zo = "PopoverClose",
    Ml = l.forwardRef((e, t) => {
        const { __scopePopover: n, ...r } = e,
            o = ue(Zo, n);
        return c.jsx(le.button, {
            type: "button",
            ...r,
            ref: t,
            onClick: ie(e.onClick, () => o.onOpenChange(!1)),
        });
    });
Ml.displayName = Zo;
var Fl = "PopoverArrow",
    Il = l.forwardRef((e, t) => {
        const { __scopePopover: n, ...r } = e,
            o = Ue(n);
        return c.jsx($c, { ...o, ...r, ref: t });
    });
Il.displayName = Fl;
function Qo(e) {
    return e ? "open" : "closed";
}
var _l = Uo,
    $l = Xo,
    Bl = qo,
    Jo = Go;
const es = _l,
    ts = $l,
    bn = l.forwardRef(({ className: e, align: t = "center", sideOffset: n = 4, ...r }, o) =>
        c.jsx(Bl, {
            children: c.jsx(Jo, {
                ref: o,
                align: t,
                sideOffset: n,
                className: D(
                    "z-50 w-72 rounded-md border border-slate-200 bg-white p-4 text-slate-950 shadow-md outline-none data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2 origin-[--radix-popover-content-transform-origin] dark:border-slate-800 dark:bg-slate-950 dark:text-slate-50",
                    e
                ),
                ...r,
            }),
        })
    );
bn.displayName = Jo.displayName;
const wn = l.forwardRef(({ className: e, type: t, ...n }, r) =>
    c.jsx("input", {
        type: t,
        className: D(
            "flex h-10 w-full rounded-md border border-slate-200 bg-white px-3 py-2 text-sm ring-offset-white file:border-0 file:bg-transparent file:text-sm file:font-medium placeholder:text-slate-500 focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-slate-950 focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50 dark:border-slate-800 dark:bg-slate-950 dark:ring-offset-slate-950 dark:placeholder:text-slate-400 dark:focus-visible:ring-slate-300",
            e
        ),
        ref: r,
        ...n,
    })
);
wn.displayName = "Input";
function ns(e) {
    const { className: t } = e,
        n = Ja(),
        [r, o] = l.useState(!1),
        [s, i] = l.useState("");
    if (!n) return null;
    const { setOffset: a, limit: u, items: d } = n;
    if ((d == null ? void 0 : d.length) <= u || !d.some((m) => m.timestamp)) return null;
    function f(m) {
        m.preventDefault();
        const p = m.target.search.value;
        let g = !1;
        if (p) {
            const v = d.findIndex((h) => h.timestamp && de(h.timestamp.fieldValue, "time").includes(p.trim()));
            (console.log("index", v), v !== -1 ? a(v) : (i("Time not found"), (g = !0)));
        }
        o(g);
    }
    return c.jsxs(es, {
        open: r,
        modal: !0,
        children: [
            c.jsx(ts, {
                className: t,
                onClick: () => o(!0),
                children: c.jsx(Js, { className: "w-3 h-3 text-blue-500" }),
            }),
            c.jsxs(bn, {
                side: "top",
                className: "w-48 relative",
                align: "left",
                alignOffset: 20,
                onEscapeKeyDown: () => o(!1),
                children: [
                    c.jsx(at, {
                        className: "absolute top-0 right-0 m-0",
                        size: "sm",
                        onClick: () => o(!1),
                    }),
                    c.jsxs("form", {
                        className: "flex flex-col gap-3",
                        onSubmit: f,
                        children: [
                            c.jsx(Ve, { htmlFor: "search", children: "Search time" }),
                            c.jsx(wn, {
                                id: "search",
                                autoFocus: !0,
                                onChange: () => i(""),
                                placeholder: "hh:mm(:ss)",
                            }),
                            s && c.jsx("div", { className: "text-red-500", children: s }),
                            c.jsx("div", {
                                className: "text-right",
                                children: c.jsx(pe, {
                                    type: "submit",
                                    size: "sm",
                                    children: "Search",
                                }),
                            }),
                        ],
                    }),
                ],
            }),
        ],
    });
}
ns.propTypes = { className: j.string };
function rs(e) {
    const { field: t, filters: n, setFilters: r, enumValues: o, className: s } = e,
        [i, a] = l.useState(!1),
        u = l.useCallback(
            (f) => {
                const { value: m } = f.target;
                (r((p) => {
                    const g = { ...p };
                    return ((g[t.key] = m), g);
                }),
                    a(!1));
            },
            [t.key, r]
        ),
        d = l.useCallback(() => {
            (r((f) => {
                const m = { ...f };
                return (delete m[t.key], m);
            }),
                a(!1));
        }, [t.key, r]);
    return !o || o.length <= 1
        ? null
        : n[t.key]
          ? c.jsx(pe, {
                type: "button",
                size: "xs",
                variant: "ghost",
                className: $("p-0 h-3", s),
                "aria-label": "clear filter",
                onClick: d,
                children: c.jsx(Ks, { className: "w-3 h-3 text-red-500" }),
            })
          : c.jsxs(es, {
                open: i,
                modal: !0,
                children: [
                    c.jsx(ts, {
                        className: s,
                        onClick: () => a(!0),
                        children: c.jsx(Zs, {
                            className: $("w-3 h-3", n[t.key] ? "text-red-500" : "text-blue-500"),
                        }),
                    }),
                    c.jsxs(bn, {
                        side: "top",
                        className: "w-48 relative",
                        align: "left",
                        alignOffset: 20,
                        onEscapeKeyDown: () => a(!1),
                        children: [
                            c.jsx(at, {
                                className: "absolute top-0 right-0 m-0",
                                size: "sm",
                                onClick: () => a(!1),
                            }),
                            c.jsxs("div", {
                                className: "flex flex-col gap-3",
                                children: [
                                    c.jsx(Ve, { htmlFor: "search", children: "Filter" }),
                                    c.jsxs(lr, {
                                        onChange: u,
                                        autoFocus: !0,
                                        value: n[t.key] || "",
                                        children: [
                                            c.jsx(Ft, {
                                                value: "",
                                                disabled: !0,
                                                children: "Select",
                                            }),
                                            o.map((f) => c.jsx(Ft, { value: f, children: f }, f)),
                                        ],
                                    }),
                                ],
                            }),
                        ],
                    }),
                ],
            });
}
rs.propTypes = {
    className: j.string,
    field: j.object,
    filters: j.object,
    setFilters: j.func,
    enumValues: j.array,
};
function os(e) {
    const { devMode: t, field: n, className: r, ...o } = e;
    function s(u) {
        return t ? u : u === "semicircles" ? "deg" : u;
    }
    const i = "absolute top-0 right-[1px] text-xs ",
        a = "absolute bottom-[1px] right-[1px]";
    return c.jsxs(
        dn,
        {
            className: $(r, "relative pr-3"),
            children: [
                n.ciq &&
                    c.jsx("div", {
                        className: $("ciq font-normal", i),
                        title: "Connect IQ",
                        children: "IQ",
                    }),
                n.undocumented &&
                    c.jsx("div", {
                        className: $("text-green-500 font-normal", i),
                        title: "Undocumented",
                        children: "?",
                    }),
                n.accumulate &&
                    c.jsx("div", {
                        className: $("accumulate text-blue-500", i),
                        title: "Accumulated",
                        children: "A",
                    }),
                n.fromPrevious && c.jsx(fo, { className: i, title: "From previous message" }),
                c.jsx("span", {
                    className: "font-semibold",
                    children: Gt(n.fieldName ?? n.key),
                }),
                n.units &&
                    c.jsxs("span", {
                        className: "text-xs text-slate-500 font-normal ms-1",
                        children: ["(", s(n.units), ")"],
                    }),
                c.jsx(rs, { field: n, ...o, className: a }),
                n.fieldName === "timestamp" && c.jsx(ns, { className: a }),
            ],
        },
        n.key
    );
}
os.propTypes = {
    devMode: j.bool,
    field: j.object,
    className: j.string,
    filters: j.object,
    setFilters: j.func,
};
const ss = ",",
    Jn = '"';
function Hl(e, t, n) {
    if (e instanceof Date) return n === "iso" ? e.toISOString() : de(e);
    if (!t || me(e)) return e;
    if (typeof e == "object") return JSON.stringify(e);
    const { number: r, options: o = {} } = lo(e);
    return Number.isNaN(r) ? e : ((o.useGrouping = !1), r.toLocaleString(Ns, o));
}
function is(e) {
    return e == null
        ? ""
        : typeof e != "string"
          ? is(e.toString())
          : e.includes(ss)
            ? Jn + e.replace(/"/g, '""') + Jn
            : e;
}
function Vl(e, t, n, r) {
    function o(a) {
        var f;
        if (!a) return "";
        if (n) return a.rawFieldValue;
        const u = a.fieldValue,
            d = qt.includes((f = a.field) == null ? void 0 : f.fieldType);
        return Hl(u, d, r);
    }
    const i = [e.map(({ key: a }) => a), ...t.map((a) => e.map(({ key: u }) => is(o(a[u]))))].map((a) => a.join(ss))
        .join(`
`);
    return new Blob([i], { type: "text/csv;charset=utf-8" });
}
function as(e) {
    const { devMode: t, messages: n, definition: r, fields: o, filename: s } = e,
        { getTimeFormat: i } = Ps(),
        a = l.useCallback(async () => {
            const d = !t && (await i());
            return Vl(o, n, t, d);
        }, [o, n, t, i]),
        u = s.replace(/\.fit$/i, `-${r.messageName}.csv`);
    return c.jsx(Kt, {
        title: "Download as CSV",
        filename: u,
        getData: a,
        label: r.messageName,
        category: "csv",
        children: c.jsx(ur, { className: "text-red-500 h-6 w-6" }),
    });
}
as.propTypes = {
    fields: j.arrayOf(j.object),
    messages: j.arrayOf(j.object),
    definition: j.object,
    devMode: j.bool,
    filename: j.string,
};
const cs = l.forwardRef(({ className: e, ...t }, n) =>
    c.jsx("div", {
        ref: n,
        className: D(
            "rounded-lg border border-slate-200 bg-white text-slate-950 shadow-sm dark:border-slate-800 dark:bg-slate-950 dark:text-slate-50",
            e
        ),
        ...t,
    })
);
cs.displayName = "Card";
const ls = l.forwardRef(({ className: e, ...t }, n) =>
    c.jsx("div", {
        ref: n,
        className: D("flex flex-col space-y-1.5 p-6", e),
        ...t,
    })
);
ls.displayName = "CardHeader";
const us = l.forwardRef(({ className: e, ...t }, n) =>
    c.jsx("h3", {
        ref: n,
        className: D("text-2xl text-slate-700 font-semibold leading-none tracking-tight", e),
        ...t,
    })
);
us.displayName = "CardTitle";
const ds = l.forwardRef(({ className: e, ...t }, n) =>
    c.jsx("p", {
        ref: n,
        className: D("text-sm text-slate-500 dark:text-slate-400", e),
        ...t,
    })
);
ds.displayName = "CardDescription";
const fs = l.forwardRef(({ className: e, ...t }, n) => c.jsx("div", { ref: n, className: D("p-6 pt-0", e), ...t }));
fs.displayName = "CardContent";
const Wl = l.forwardRef(({ className: e, ...t }, n) =>
    c.jsx("div", { ref: n, className: D("flex items-center p-6 pt-0", e), ...t })
);
Wl.displayName = "CardFooter";
const Ul = nr(
    "inline-flex items-center rounded-full border border-slate-200 px-2.5 py-0.5 text-xs font-semibold transition-colors focus:outline-none focus:ring-2 focus:ring-slate-950 focus:ring-offset-2 dark:border-slate-800 dark:focus:ring-slate-300",
    {
        variants: {
            variant: {
                default:
                    "border-transparent bg-slate-900 text-slate-50 hover:bg-slate-900/80 dark:bg-slate-50 dark:text-slate-900 dark:hover:bg-slate-50/80",
                secondary:
                    "border-transparent bg-slate-100 text-slate-900 hover:bg-slate-100/80 dark:bg-slate-800 dark:text-slate-50 dark:hover:bg-slate-800/80",
                destructive:
                    "border-transparent bg-red-500 text-slate-50 hover:bg-red-500/80 dark:bg-red-900 dark:text-slate-50 dark:hover:bg-red-900/80",
                outline: "text-slate-950 dark:text-slate-50",
            },
        },
        defaultVariants: { variant: "default" },
    }
);
function zl({ className: e, variant: t, ...n }) {
    return c.jsx("div", { className: D(Ul({ variant: t }), e), ...n });
}
function ps(e) {
    const { className: t } = e;
    return c.jsx(ro, {
        children: c.jsxs(oo, {
            children: [
                c.jsx(so, { asChild: !0, className: t, children: c.jsx(qs, {}) }),
                c.jsxs(ln, {
                    className: "text-slate-500 w-40",
                    children: [
                        c.jsx("h3", {
                            className: "text-md font-medium",
                            children: "Undocumented data",
                        }),
                        c.jsx("p", {
                            className: "text-sm font-normal",
                            children: "If the result is not as expected, please share your FIT file (see bottom)",
                        }),
                    ],
                }),
            ],
        }),
    });
}
ps.propTypes = { className: j.string };
function ms(e) {
    const { rrIntervals: t } = e,
        { filename: n } = K();
    if (!t) return null;
    const r = () =>
            t.join(`
`),
        o = () => new Blob([r()], { type: "text/plain;charset=utf-8" }),
        s = n.replace(/\.fit$/i, "-rr-intervals.txt");
    return c.jsxs(Kt, {
        filename: s,
        getData: o,
        size: "sm",
        className: "no-underline",
        category: "hrv",
        title: "Download RR intervals (ms) as text file",
        ...e,
        children: [
            c.jsx(ur, { className: "text-red-500 h-4 w-4" }),
            c.jsx("span", {
                className: "text-xs opacity-50 ms-2",
                children: "RR Intervals",
            }),
        ],
    });
}
ms.propTypes = { rrIntervals: j.array };
function hs(e) {
    const { fields: t, definition: n, title: r, open: o, numRows: s, hrMerged: i, rrIntervals: a } = e,
        u = $("font-medium me-3 text-xl", (Fs(n.messageName) || !n.fields) && "text-slate-400");
    return c.jsxs(c.Fragment, {
        children: [
            c.jsxs("div", {
                className: "flex items-baseline",
                children: [
                    c.jsxs(us, {
                        className: u,
                        children: [
                            r,
                            n.undocumented &&
                                c.jsx(ps, {
                                    className: "inline ms-2 h-4 w-4 -translate-y-0.5 text-blue-500",
                                }),
                        ],
                    }),
                    c.jsx("div", {
                        className: "text-sm grow text-slate-700",
                        children: c.jsx("span", {
                            children: `${s.toLocaleString()} ${s === 1 ? "row" : "rows"}`,
                        }),
                    }),
                    a && c.jsx(ms, { rrIntervals: a }),
                    i &&
                        c.jsx(zl, {
                            variant: "secondary",
                            className: "ms-2",
                            children: "HR data merged",
                        }),
                ],
            }),
            n.warnings &&
                Object.entries(n.warnings).map(([d, f]) => c.jsx("div", { className: "text-red-700", children: f }, d)),
            !o &&
                c.jsx(ds, {
                    className: "whitespace-nowrap !truncate text-ellipsis w-full",
                    children: t.map((d) => Gt(d.key)).join(", "),
                }),
        ],
    });
}
hs.propTypes = {
    fields: j.arrayOf(j.object),
    definition: j.object,
    open: j.bool,
    numRows: j.number,
    title: j.string,
    hrMerged: j.bool,
    rrIntervals: j.array,
};
const er = (e) => e in Cn.types && Object.keys(Cn.types[e]).filter((t) => !/^0x[1-9]/.test(t)).length >= 2;
function Yl(e) {
    var t;
    return e.baseType === Xt.ENUM || er(e.fieldType)
        ? !0
        : (t = e.subfields) == null
          ? void 0
          : t.some((n) => er(n.fieldType));
}
function Xl({ messages: e, definition: t, filters: n }) {
    const { devMode: r, fit: o } = K(),
        s = l.useMemo(() => Is(e, t, o.developerFields, r), [e, t, o.developerFields, r]),
        i = new URLSearchParams(window.location.search).get("minRecord"),
        a = new URLSearchParams(window.location.search).get("minFileIndex"),
        u = l.useMemo(() => {
            const f = {};
            return (
                s.forEach((m) => {
                    Yl(m) &&
                        (f[m.key] = Array.from(
                            e.reduce((p, g) => {
                                var h;
                                const v = (h = g[m.key]) == null ? void 0 : h.fieldValue;
                                return (v != null && v.toString && p.add(v.toString()), p);
                            }, new Set())
                        ).sort());
                }),
                f
            );
        }, [s, e]),
        d = l.useMemo(() => {
            let f = e.map((m, p) => ({ ...m, idx: p }));
            return (
                Object.entries(n).forEach(([m, p]) => {
                    f = f.filter((g) => {
                        var v;
                        return ((v = g[m]) == null ? void 0 : v.fieldValue.toString()) === p;
                    });
                }),
                i && (f = f.filter((m) => m.recordIndex >= Number(i))),
                a && (f = f.filter((m) => m.fileIndex >= Number(a))),
                f
            );
        }, [e, i, a, n]);
    return { fields: s, msgList: d, enumValues: u };
}
function ql(e, t, n) {
    const [r, o] = l.useState(-1),
        s = () => o((d) => (d === -1 ? 0 : -1)),
        i = r >= 0,
        a = l.useRef(null);
    function u(d) {
        var m, p;
        if ((m = t.recordIndex) != null && m.toString().split(",").map(Number).includes(d)) {
            o(0);
            return;
        }
        const f = e.findIndex((g) => g.recordIndex === d);
        f >= 0 && (o(f), (p = a.current) == null || p.scrollIntoView());
    }
    return (
        l.useEffect(
            () => (
                window.addEventListener("message", (d) => {
                    const {
                        origin: f,
                        data: { type: m, payload: p },
                    } = d;
                    f !== window.location.origin || m !== "showError" || u(p - 1);
                }),
                () => {
                    window.removeEventListener("message", u);
                }
            ),
            []
        ),
        l.useEffect(() => {
            i && n();
        }, [i, n]),
        { elemRef: a, open: i, openIndex: r, toggleOpen: s }
    );
}
const gs = (e) => new Set(e.split(" ")),
    Gl = gs("id epo cpe gps utc hrm hr hrv sdm met ant rx tx iq obdii nmea ohr hsa aad mtb cx bbi"),
    Kl = gs("in mesg");
function Zl(e) {
    return Gl.has(e) ? e.toUpperCase() : Kl.has(e) ? e : e.replace(/^\w/g, (t) => t.toUpperCase());
}
function Ql(e) {
    return e.split("_").map(Zl).join(" ");
}
function Jl(e) {
    const { messages: t, definition: n, filters: r } = e,
        o = Ql(n.messageName),
        { fields: s, msgList: i, enumValues: a } = Xl({ messages: t, definition: n, filters: r }),
        u = l.useCallback(() => {
            (js("Expand Table", { message: o }),
                console.log("open", {
                    definition: n,
                    messages: t,
                    fields: s,
                    title: o,
                }));
        }, [n, t, s, o]),
        { elemRef: d, open: f, openIndex: m, toggleOpen: p } = ql(i, n, u);
    return {
        elemRef: d,
        open: f,
        openIndex: m,
        toggleOpen: p,
        msgList: i,
        title: o,
        fields: s,
        enumValues: a,
    };
}
function kt(e) {
    return e.recordIndex ? (e.fileIndex === 1 ? e.recordIndex.toString() : `${e.fileIndex}|${e.recordIndex}`) : "";
}
function eu() {
    const { fit: e } = K();
    return e
        ? (n) => {
              const {
                  streamIndex: { invalidRecords: r = new Set() },
              } = e;
              return r.has(Number(n));
          }
        : () => !1;
}
function tu(e) {
    return Object.keys(En).find((t) => En[t] === e) || "enum";
}
function nu(e, t) {
    const n = Object.values(t).filter((s) => s.fieldDefinition && !s.field);
    n.sort((s, i) => s.fieldDefinition.fieldDefinitionNumber - i.fieldDefinition.fieldDefinitionNumber);
    const o = [`${e.messageName} ${e.globalMessageNumber}`];
    (o.push(["#", "size", "type", "value"].join("	")),
        n.forEach(({ fieldDefinition: s, rawFieldValue: i }) => {
            const { fieldDefinitionNumber: a, baseType: u, size: d } = s;
            o.push([a, d, tu(u), i.toString()].join("	"));
        }),
        console.log(
            o.join(`
`)
        ));
}
function vs(e) {
    const { devMode: t, fit: n, filename: r } = K(),
        o = eu(),
        { messages: s, definition: i } = e,
        [a, u] = l.useState({}),
        {
            elemRef: d,
            open: f,
            openIndex: m,
            toggleOpen: p,
            title: g,
            fields: v,
            msgList: h,
            enumValues: x,
        } = Jl({ messages: s, definition: i, filters: a });
    if ((h.length === 0 || v.length === 0) && Object.keys(a).length === 0) return null;
    const y = "text-end text-gray-500 font-normal text-xs w-2",
        b = c.jsx("span", {
            className: "text-blue-500 text-sm",
            title: "Generated message",
            children: "+",
        }),
        w = n.hrMerged && !t && i.messageName === "record",
        C =
            i.messageName === "hrv"
                ? s
                      .flatMap((E) => {
                          var P;
                          return (P = E.time) == null ? void 0 : P.rawFieldValue;
                      })
                      .filter(Boolean)
                : void 0;
    return c.jsxs(cs, {
        ref: d,
        className: $("mb-3", !f && "print:hidden"),
        children: [
            c.jsxs(ls, {
                className: "ps-4 pe-0 py-1 flex flex-row bg-green-50 hover:bg-green-100 focus:bg-green-100",
                children: [
                    c.jsx("button", {
                        type: "button",
                        className: "flex-grow flex flex-col font-normal items-start text-start w-3/4 py-1",
                        "aria-label": "open",
                        onClick: p,
                        children: c.jsx(hs, {
                            numRows: s.length,
                            title: g,
                            fields: v,
                            definition: i,
                            open: f,
                            hrMerged: w,
                            rrIntervals: C,
                        }),
                    }),
                    Ss &&
                        c.jsx(pe, {
                            type: "button",
                            variant: "ghost",
                            className: "px-2 sm:px-4",
                            title: "Log unknown fields",
                            onClick: () => nu(i, s[0]),
                            children: c.jsx(Vs, { className: "h-6 w-6 text-slate-300" }),
                        }),
                    c.jsx(as, {
                        filename: r,
                        devMode: t,
                        messages: s,
                        definition: i,
                        fields: v,
                        className: "px-2 sm:px-4",
                    }),
                    c.jsx(pe, {
                        type: "button",
                        variant: "ghost",
                        className: "px-2 sm:px-4",
                        "aria-label": "open table",
                        onClick: p,
                        children: c.jsx(Ws, {
                            className: $("h-6 w-6 text-slate-500", f && "rotate-180"),
                        }),
                    }),
                ],
            }),
            f &&
                c.jsx(fs, {
                    className: "text-sm p-0",
                    children: c.jsx(Zt, {
                        items: h,
                        paginationId: i.globalMessageNumber,
                        className: "px-2 py-1 text-slate-500",
                        openIndex: m,
                        children: (E) =>
                            c.jsxs(io, {
                                children: [
                                    c.jsx(ao, {
                                        children: c.jsxs(Vt, {
                                            children: [
                                                $e &&
                                                    c.jsx(dn, {
                                                        className: y,
                                                        title: kt(i),
                                                        children: kt(i).split(",")[0] || b,
                                                    }),
                                                v.map((P) =>
                                                    c.jsx(
                                                        os,
                                                        {
                                                            field: P,
                                                            devMode: t,
                                                            filters: a,
                                                            setFilters: u,
                                                            enumValues: x[P.key],
                                                        },
                                                        P.key
                                                    )
                                                ),
                                            ],
                                        }),
                                    }),
                                    c.jsx(co, {
                                        children: E.map((P, N) =>
                                            c.jsxs(
                                                Vt,
                                                {
                                                    className: $(
                                                        "align-top",
                                                        !P.recordIndex && "text-blue-500",
                                                        o(P.recordIndex) && "bg-red-100 hover:!bg-red-200"
                                                    ),
                                                    children: [
                                                        $e && c.jsx(fn, { className: y, children: kt(P) || b }),
                                                        v.map((S) =>
                                                            c.jsx(
                                                                uo,
                                                                { messages: E, index: N, field: S, devMode: t },
                                                                S.key
                                                            )
                                                        ),
                                                    ],
                                                },
                                                P.idx
                                            )
                                        ),
                                    }),
                                ],
                            }),
                    }),
                }),
        ],
    });
}
vs.propTypes = { messages: j.arrayOf(j.object), definition: j.object };
function ru() {
    const { fit: e, devMode: t } = K();
    if (!(e != null && e.messages)) return null;
    const { definitions: n, messages: r } = e,
        o = t ? n : n.filter((s) => "fields" in s);
    return c.jsx("div", {
        children: o.map((s) => {
            const i = s.globalMessageNumber;
            return c.jsx(vs, { msgKey: i, messages: r[i], definition: s }, i);
        }),
    });
}
const ou = "https://form2post.fitfileviewer.com/";
function su(e) {
    const n = new Uint8Array(e).reduce((r, o) => r + String.fromCharCode(o), "");
    return window.btoa(n);
}
async function iu(e) {
    const { filename: t, content: n, ...r } = e;
    return (
        (r.file = { name: t, type: "application/vnd.ant.fit", content: su(n) }),
        (
            await fetch(ou, {
                method: "POST",
                headers: { "Content-Type": "application/json" },
                body: JSON.stringify(r),
            })
        ).json()
    );
}
function au() {
    return c.jsx("span", { className: "ms-1", title: "required", children: "*" });
}
const xs = l.forwardRef(({ className: e, ...t }, n) =>
    c.jsx("textarea", {
        className: D(
            "flex min-h-[80px] w-full rounded-md border border-slate-200 bg-white px-3 py-2 text-sm ring-offset-white placeholder:text-slate-500 focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-slate-950 focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50 dark:border-slate-800 dark:bg-slate-950 dark:ring-offset-slate-950 dark:placeholder:text-slate-400 dark:focus-visible:ring-slate-300",
            e
        ),
        ref: n,
        ...t,
    })
);
xs.displayName = "Textarea";
function nt(e) {
    const { id: t, type: n, label: r, required: o, ...s } = e;
    return c.jsxs(c.Fragment, {
        children: [
            c.jsx(Ve, {
                className: "mb-3",
                htmlFor: t,
                children: c.jsxs("span", {
                    className: "label-text",
                    children: [r, o && c.jsx(au, {})],
                }),
            }),
            n === "textarea"
                ? c.jsx(xs, { id: t, required: o, ...s })
                : c.jsx(wn, { type: n, id: t, required: o, ...s }),
        ],
    });
}
nt.propTypes = {
    id: j.string.isRequired,
    type: j.string.isRequired,
    label: j.string.isRequired,
    required: j.bool,
};
const Ze = Symbol("state_idle"),
    Dt = Symbol("state_form"),
    Lt = Symbol("state_waiting"),
    tr = Symbol("state_sent");
function cu() {
    const { file: e, content: t, fit: n, filename: r } = K(),
        [o, s] = l.useState(Ze),
        [i, a] = l.useState(null),
        [u, d, f] = rr("fit-user"),
        [m, p] = l.useState(!!u),
        g = l.useRef(null),
        v = l.useCallback(() => {
            (m && f(), p((w) => !w));
        }, [m, f]);
    l.useEffect(() => {
        s(Ze);
    }, [e, r]);
    const h = [Dt, Lt].includes(o),
        x = o === Lt;
    if (
        (l.useEffect(() => {
            h && g.current.scrollIntoView({ behavior: "smooth" });
        }, [h]),
        !n)
    )
        return null;
    async function y(w) {
        w.preventDefault();
        const { elements: C } = w.target,
            E = { content: t, filename: r };
        (["name", "email", "body"].forEach((P) => {
            E[P] = C[P].value;
        }),
            m ? d({ name: E.name, email: E.email }) : f(),
            s(Lt));
        try {
            (a(null), await iu(E), s(tr));
        } catch (P) {
            (a(P), s(Dt));
        }
    }
    const b = "input input-bordered w-full max-w-xs bg-white";
    return c.jsxs("div", {
        className: "print:hidden",
        children: [
            o === Ze &&
                c.jsxs("div", {
                    className: "mb-3",
                    children: [
                        "If the file is not decoded properly,",
                        c.jsx(pe, {
                            type: "button",
                            variant: "link",
                            className: "px-0 ms-1",
                            onClick: () => s(Dt),
                            disabled: o !== Ze,
                            children: "please contact me",
                        }),
                        ".",
                    ],
                }),
            h &&
                c.jsxs("form", {
                    ref: g,
                    onSubmit: y,
                    children: [
                        c.jsx("div", {
                            className: "flex flex-col mb-4",
                            children: c.jsx(nt, {
                                label: "Description",
                                placeholder:
                                    "Did you get the file direct from the device, or using some app? Is there any data missing, if so, what?",
                                type: "textarea",
                                id: "body",
                                required: !0,
                                autoFocus: !0,
                                className: "textarea textarea-bordered h-24 w-full max-w-2xl bg-white",
                            }),
                        }),
                        c.jsxs("div", {
                            className: "sm:flex gap-8",
                            children: [
                                c.jsx("div", {
                                    className: "flex flex-col mb-4 sm:w-80",
                                    children: c.jsx(nt, {
                                        label: "Your name",
                                        type: "text",
                                        id: "name",
                                        defaultValue: u == null ? void 0 : u.name,
                                        className: b,
                                    }),
                                }),
                                c.jsxs("div", {
                                    className: "flex flex-col mb-4 sm:w-80",
                                    children: [
                                        c.jsx(nt, {
                                            label: "Email address",
                                            type: "email",
                                            id: "email",
                                            defaultValue: u == null ? void 0 : u.email,
                                            className: b,
                                        }),
                                        c.jsx("div", {
                                            className: "text-sm mt-1 text-slate-500",
                                            children:
                                                "If you provide your email address, I can keep you informed of any updates on this issue.",
                                        }),
                                    ],
                                }),
                            ],
                        }),
                        c.jsxs("div", {
                            className: "items-top flex space-x-2 mb-4",
                            children: [
                                c.jsx(Rs, {
                                    id: "remember",
                                    checked: m,
                                    onCheckedChange: v,
                                    "aria-label": "Remember name and email address",
                                }),
                                c.jsx(Ve, {
                                    className: "cursor-pointer justify-start mt-0.5",
                                    htmlFor: "remember",
                                    children: "Remember name and email address on this computer",
                                }),
                            ],
                        }),
                        c.jsxs("div", {
                            className: "mb-2",
                            children: [
                                c.jsx(pe, {
                                    type: "submit",
                                    variant: "default",
                                    disabled: x,
                                    children: "Submit",
                                }),
                                x &&
                                    c.jsx("span", {
                                        className: "ms-2 text-slate-300 loading loading-dots loading-md",
                                    }),
                            ],
                        }),
                        i &&
                            c.jsxs(se, {
                                variant: "destructive",
                                className: "flex items-top",
                                children: [
                                    c.jsx("div", { className: "flex-grow", children: i.message }),
                                    c.jsx(at, { onClick: () => a(null) }),
                                ],
                            }),
                        c.jsx("div", { children: "The FIT file will be included." }),
                    ],
                }),
            o === tr &&
                c.jsx(se, {
                    className: "w-fit bg-blue-100",
                    children: "Thanks for sharing your file and feedback!",
                }),
        ],
    });
}
const lu = c.jsxs("ul", {
    children: [
        c.jsxs("li", {
            children: [
                "A FIT file consists of ",
                c.jsx("em", { children: "messages" }),
                ". Each message has a ",
                c.jsx("em", { children: "definition record" }),
                " and a number of ",
                c.jsx("em", { children: "data records" }),
                ". See ",
                c.jsx(Mt, {
                    href: "https://www.thisisant.com/resources/fit",
                    children: "FIT SDK",
                }),
                " for more information.",
            ],
        }),
        c.jsx("li", {
            children:
                "This viewer has applied the definition to the corresponding data records to create meaningful tables.",
        }),
        c.jsx("li", {
            children:
                "After opening a FIT file, you see the message headers. Click on a message header to view the table.",
        }),
        c.jsx("li", {
            children:
                "You can download the content of each table as a CSV file using the download icon in each table header. A CSV file can be used in spreadsheets for further analysis.",
        }),
        c.jsxs("li", {
            children: [
                "If there are records with position coordinates, you can view the course or activity on the map. You can also download a GPX file with these coordinates using the download icon at the top of the map. A GPX file can be used to import the activity in another app, e.g. if you want to edit the route in ",
                c.jsx(Mt, {
                    href: "https://www.runnermaps.nl",
                    children: "RunnerMaps",
                }),
                ".",
            ],
        }),
        c.jsx("li", {
            children:
                "If the FIT file is corrupted, the viewer will try to recover as much data as possible. You can download a fixed version of the file and dditionsimport it in Garmin Connect, Strava, etc.",
        }),
        c.jsx("li", {
            children:
                "All processing takes place in your browser. No data is sent to a server, unless you submit it for investigating an issue.",
        }),
    ],
});
function ys(e) {
    const { className: t } = e;
    return c.jsx("article", { className: $("prose mx-auto", t), children: lu });
}
ys.propTypes = { className: j.string };
function yu() {
    const { file: e } = K();
    return e
        ? c.jsxs(c.Fragment, {
              children: [c.jsx(si, {}), c.jsx(_a, {}), c.jsx(ru, {}), c.jsx(cu, {})],
          })
        : c.jsx(ys, { className: "rounded-lg m-8 p-8 border" });
}
export { yu as default };
